/* Shield UI 1.7.44 Trial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula | Expires on Tue, 13 Sep 2022 03:00:24 GMT */
!function(s,l,a,e){var c=l.ui.Widget,t=l.Class,u=document,p=l.is,d=(l.get,l.format,l.to.int),h=(Math.abs,s.each,s.proxy),g=(s.extend,s.map,p[void 0]),o=a.opera,r=navigator.userAgent,i=(/msie/i.test(r)&&!o&&u.documentMode,"keydown"),v="click",f="mousedown",n="change",_="select",C="cancel",b="display",y="none",r={cls:e,palette:"basic",basicPalette:{columns:10,tileSize:{width:16,height:16},tileBorderWidth:0,palette:["#FFFFFF","#FFCCCC","#FFCC99","#FFFF99","#FFFFCC","#99FF99","#99FFFF","#CCFFFF","#CCCCFF","#FFCCFF","#CCCCCC","#FF6666","#FF9966","#FFFF66","#FFFF33","#66FF99","#33FFFF","#66FFFF","#9999FF","#FF99FF","#BBBBBB","#FF0000","#FF9900","#FFCC66","#FFFF00","#33FF33","#66CCCC","#33CCFF","#6666CC","#CC66CC","#999999","#CC0000","#FF6600","#FFCC33","#FFCC00","#33CC00","#00CCCC","#3366FF","#6633FF","#CC33CC","#666666","#990000","#CC6600","#CC9933","#999900","#009900","#339999","#3333FF","#6600CC","#993399","#333333","#660000","#993300","#996633","#666600","#006600","#336666","#000099","#333399","#663366","#000000","#330000","#663300","#663333","#333300","#003300","#003333","#000066","#330099","#330033"]},advancedPalette:{type:"hex",buttons:!0,messages:{apply:"Apply",cancel:"Cancel"}},displayInline:!1,showLetter:!1,value:e,valueTemplate:function(e){return e?(e.hex?e:e.toRGB()).hex():null}},o=c.extend({init:function(e,t){c.fn.init.apply(this,arguments);var o=this,r=o.options,n=r.tooltip||s(o.element).attr("title")||"",l=r.cls,i=p.defined(r.value)?r.value:o._value();1<arguments.length&&(t=arguments[1]).basicPalette&&t.basicPalette.palette&&(r.basicPalette.palette=t.basicPalette.palette),o.element.css(b,y),o._enabled=!0,o.currentColor=new w({color:i}),r.displayInline?(o._buildPalette(),l&&o._picker.addClass(l)):(o._picker=i=s('<span class="sui-color-picker-dropdown" tabindex="0"><span class="sui-color-cell sui-unselectable" unselectable="on">&nbsp;</span><span class="sui-caret-container sui-unselectable" unselectable="on"><span class="sui-caret" unselectable="on"></span></span></span>').insertAfter(o.element),l&&o._picker.addClass(l),r.showLetter?(l=i.find(".sui-color-cell"),s('<span class="sui-tool-letter">A<span class="sui-selected-color"></span></span>').appendTo(l),i.find(".sui-selected-color").css("background-color",o.currentColor.color.cssa())):i.find(".sui-color-cell").css("background-color",o.currentColor.color.cssa()),i.on(v,o._pickerClicked=h(o._pickerClickedHandler,o)),s(u).on(f+".shieldColorPicker"+o.getInstanceId(),h(o._hidePopup,o))),o.currentColor.color.cssa?o._oldColor=o.currentColor.color.cssa():o._oldColor=o.currentColor.color.toRGB().cssa(),n&&p.string(n)&&o._picker.attr("title",n),o._changed()},hidePalette:function(){this._hidePopup({})},hide:function(){var e=this;e.options.displayInline?s(e.wrapperDiv).hide():(s(e._picker).hide(),e._hidePopup({}))},show:function(){var e=this;e.options.displayInline?s(e.wrapperDiv).hide():s(e._picker).show()},isVisible:function(){var e=this;return(e.options.displayInline?s(e.wrapperDiv):s(e._picker)).is(":visible")},_changed:function(){var e=this;e._value(l.format.call(e,e.options.valueTemplate,e.currentColor.color))},_value:function(){return this.element.attr.apply(this.element,["value"].concat([].slice.call(arguments)))},_buildPalette:function(){var e=this;"basic"==e.options.palette?e._buildBasicPalette():(e._buildAdvancedPalette(),e._changeAdvancedPaletteColor())},_changeAdvancedPaletteColor:function(){var e=this,t=e.currentColor.color.toHSV();e.wrapperDiv&&(e._hue=t.hue,e._isHsl?(t=e.currentColor.color.toHSL(),e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.hue,y:1-t.saturation}),e._Z(e,1-t.lightness,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))):(e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.saturation,y:1-t.value}),e._Z(e,t.hue,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))))},_pickerClickedHandler:function(){var e=this;e.wrapperDiv||e._buildPalette(),e._showPopup()},_showPopup:function(){var e,t,o=this,r=o._picker.offset(),n=r.top-s(u).scrollTop(),l=o._picker.height(),i=s(a).height();"advanced"===o.options.palette&&(o.currentColor.color.cssa?o._oldColor=o.currentColor.color.cssa():o._oldColor=o.currentColor.color.toRGB().cssa()),o.wrapperDiv&&o.wrapperDiv.css(b)!=y||(o._popupIsOver=!1,e=r.top+l+1,t=r.left,i<(i=o.wrapperDiv.height())+n+l?e=r.top-i-1:e++,(e<0||s(u).scrollTop()>e)&&(e=r.top+l+1),r.top>e?o._popupIsOver=!0:o._popupIsOver=!1,o.wrapperDiv||this._buildPalette(),o._popupIsOver?(o.wrapperDiv.css({position:"absolute",zIndex:10002,top:e+i,left:t,height:0,display:""}),o.wrapperDiv.animate({height:i,top:e},150)):(o.wrapperDiv.css({position:"absolute",zIndex:10002,top:e-1,left:t}),o.wrapperDiv.slideDown(150,function(){})))},_hidePopup:function(e){var t,o=this,r=o.options,e=s(e.target);"basic"!=r.palette&&(e.hasClass("sui-colorpicker")||0<e.parents(".sui-colorpicker").length)||o.wrapperDiv&&o.wrapperDiv.css(b)!=y&&("basic"===r.palette&&(e=0===(e=o._picker.find(".sui-tool-letter > .sui-selected-color")).length?o._picker.find(".sui-color-cell"):e).css("background-color",o.currentColor.color.css()),o._popupIsOver?(t=o.wrapperDiv.height(),o.wrapperDiv.animate({height:0,top:o._picker.offset().top},150,function(){s(this).css(b,y).css("height",t)})):o.wrapperDiv.slideUp(150,function(){}),e=(o.currentColor.color.cssa?o.currentColor.color:o.currentColor.color.toRGB()).cssa(),"basic"!=r.palette&&(r.advancedPalette.buttons?e!==o._oldColor?(o.currentColor=new w({color:o._oldColor}),setTimeout(function(){o._update(),o.trigger(C)},200)):o._changed():(o._changeSelectedColorCell(),o._changed(),o.trigger(n))))},_buildBasicPalette:function(){for(var e=this,t=e.options,o=t.basicPalette,r=o.palette,n=o.tileSize,l=s("<div class='sui-colorpicker sui-colorpicker-basic-palette'/>"),i=t.displayInline?l.insertAfter(e.element):l.appendTo(u.body).css(b,y),a=0;a<r.length;a++)s("<div class='sui-palette-tile'/>").css({backgroundColor:r[a],width:n.width,height:n.height,borderWidth:o.tileBorderWidth,margin:"0 "+o.tileBorderWidth+"px "+o.tileBorderWidth+"px 0"}).on(f,e._tileClicked=h(e._tileClickedHandler,e)).appendTo(i).addClass(e.currentColor.color.hex().toUpperCase()==r[a].toUpperCase()?"sui-palette-tile-selected":"");t=o.columns*d(n.width)+o.columns*o.tileBorderWidth,i.css("width",t+"px"),e.wrapperDiv=i},_tileClickedHandler:function(e){var t=this;t._enabled&&(t.wrapperDiv.find(".sui-palette-tile-selected").removeClass("sui-palette-tile-selected"),s(e.target).addClass("sui-palette-tile-selected"),e=s(e.target).css("background-color"),t.currentColor=new w({color:e}),t.trigger(_),t._changed())},_buildAdvancedPalette:function(){var e,t=this,o=t.options,r=o.displayInline?s("<div/>").insertAfter(t.element).addClass("sui-colorpicker"):s("<div/>").appendTo(u.body).addClass("sui-colorpicker").css(b,y),n=(t.wrapperDiv=r,n=s("<div class='sui-hex-wrapper'/>").appendTo(r),t.colorDiv=s("<div class='sui-color-div'/>").appendTo(n),"hsl"==o.advancedPalette.type?t.colorInput=s("<input class='sui-alpha-input'/>").appendTo(n):t.colorInput=s("<input class='sui-hex-input'/>").appendTo(n),t.colorInput.on(i,t._colorInputKeyDown=h(t._colorInputKeyDownHandler,t)),s("<div class='sui-color-palette'><div class='pointer'><div class='shape shape1'></div><div class='shape shape2'></div></div><div class='bg bg1'></div><div class='bg bg2'></div></div><div class='sui-color-scale'><div class='pointer'><div class='shape'></div></div><div class='bg'></div></div>").appendTo(r),new I({twod:r.find(".sui-color-palette").get(0),pointer:r.find(".sui-color-palette .pointer").get(0),oned:r.find(".sui-color-scale").get(0),isXYslider:!0,cbs:{begin:t._changeXY,change:t._changeXY,end:t._done}},t)),n=(t.xy=n,new I({twod:r.find(".sui-color-palette").get(0),pointer:r.find(".sui-color-scale .pointer").get(0),oned:r.find(".sui-color-scale").get(0),isXYslider:!1,cbs:{begin:t._changeZ,change:t._changeZ,end:t._done}},t));t.z=n,"rgb"==o.advancedPalette.type&&(n=s(e="<div class='extras'/>").appendTo(r),s("<span class='sui-r-text'>R:</span>").appendTo(n),t.rInput=s("<input class='sui-r-input'/>").appendTo(n),t._rInputKeyDown=h(t._rInputKeyDownHandler,t),s("<span class='sui-g-text'>G:</span>").appendTo(n),t.gInput=s("<input class='sui-g-input'/>").appendTo(n),t._gInputKeyDown=h(t._gInputKeyDownHandler,t),s("<span class='sui-b-text'>B:</span>").appendTo(n),t.bInput=s("<input class='sui-b-input'/>").appendTo(n),t._bInputKeyDown=h(t._bInputKeyDownHandler,t),l.ui.NumericTextBox&&(t.rInput=new l.ui.NumericTextBox(t.rInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:t._rInputKeyDown}}),t.gInput=new l.ui.NumericTextBox(t.gInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:t._gInputKeyDown}}),t.bInput=new l.ui.NumericTextBox(t.bInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:t._bInputKeyDown}}))),"hsl"==o.advancedPalette.type&&(t._isHsl=!0,e="<div class='sui-transparent-slider'><div class='sui-color-scale alpha'><div class='pointer' style='top: 0%;'><div class='shape'></div></div><div class='bg'></div></div></div>",r.addClass("sui-hsl"),s(e).appendTo(r),n=new I({twod:r.find(".alpha").get(0),pointer:r.find(".alpha .pointer").get(0),oned:r.find(".alpha").get(0),isXYslider:!1,cbs:{begin:t._changeA,change:t._changeA,end:t._done}},t),t.a=n),o.advancedPalette.buttons&&t._buildButtons()},_buildButtons:function(){var e,t=this.options.advancedPalette.messages,o=s("<div class='sui-buttons-wrapper'/>").appendTo(this.wrapperDiv);l.ui.Button&&(e=s("<button type='button'>"+t.apply+"</button>").appendTo(o),e=new l.ui.Button(e,{cls:"sui-apply",events:{click:h(this._applyHandler,this)}}),this._applyButton=e,e=s("<button type='button'>"+t.cancel+"</button>").appendTo(o),t=new l.ui.Button(e,{cls:"sui-cancel",events:{click:h(this._cancelHandler,this)}}),this._cancelButton=t)},_applyHandler:function(e){var t=this;t.currentColor.color.cssa?t._oldColor=t.currentColor.color.cssa():t._oldColor=t.currentColor.color.toRGB().cssa(),t._changeSelectedColorCell(),t.options.displayInline||t._hidePopup(e),t._changed(),t.trigger(n)},_changeSelectedColorCell:function(){var e=this,t=e.options,o=e._picker,e=(e.currentColor.color.cssa?e.currentColor.color:e.currentColor.color.toRGB()).cssa();t.displayInline||(t.showLetter?o.find(".sui-selected-color"):o.find(".sui-color-cell")).css("background-color",e)},_cancelHandler:function(e){var t=this;t.options.displayInline?(t.currentColor=new w({color:t._oldColor}),setTimeout(function(){t._update(),t.trigger(C)},200)):t._hidePopup(e)},_update:function(){var e,t=this,o=t._shouldUpdateMainInput,r=t._shouldUpdateRgbInputs;t._isHsl?(e=t.currentColor.color.toHSL(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.hue,y:1-e.saturation}),t._shouldUpdateMainInput=o,t._Z(t,1-e.lightness,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)),t.Y(t.wrapperDiv.find(".alpha .pointer").get(0),(1-e.alpha).toFixed(2))):(e=t.currentColor.color.toHSV(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.saturation,y:1-e.value}),t._shouldUpdateMainInput=o,t._shouldUpdateRgbInputs=r,t._Z(t,e.hue,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)))},_rInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.red=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(_)},1)},_gInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.green=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(_)},1)},_bInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.blue=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(_)},1)},_colorInputKeyDownHandler:function(o){var r=this;o.ctrlKey||setTimeout(function(){var e=o.currentTarget.value,t=r.currentColor;r.currentColor=new w({color:e}),p.object(r.currentColor.color)?(r._shouldUpdateRgbInputs=!0,r._shouldUpdateMainInput=!1,r._update()):r.currentColor=t,r.trigger(_)},1)},_changeA:function(e,t){e.colorPicker._enabled&&(e.colorPicker.colorInput.val("rgba(0,0,0,1)"),e.colorPicker._A(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.a.pointer))},_changeZ:function(e,t){e.colorPicker._enabled&&(e.colorPicker._isHsl?e.colorPicker.colorInput.val("rgba(0,0,0,1)"):e.colorPicker.colorInput.val("#000000"),e.colorPicker._Z(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.z.pointer),e.colorPicker.trigger(_))},_changeXY:function(e,t){e.colorPicker._enabled&&(e.colorPicker._isHsl?e.colorPicker.colorInput.val("rgba(0,0,0,1)"):e.colorPicker.colorInput.val("#000000"),e.colorPicker._XY(e.colorPicker,{x:e.colorPicker.clamp(t.x,0,1),y:e.colorPicker.clamp(t.y,0,1),pointer:t.pointer},e.colorPicker.xy),e.colorPicker.X(t.pointer,t.x),e.colorPicker.Y(t.pointer,t.y),e.colorPicker.trigger(_))},_XY:function(e,t){var o,r,n=this;e._enabled&&(e.X(t.pointer,t.x),e.Y(t.pointer,t.y),n._isHsl?((o=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color).hue=t.x,o.saturation=1-t.y,r=o.lightness,o.lightness=.5,n.wrapperDiv.find(".sui-color-scale").css("background-color",o.toRGB().cssa()),o.lightness=r):(o=e.currentColor.color.toHSV(),1<t.x&&(t.x=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),1<t.y&&(t.y=1),o.saturation=t.x,o.value=1-t.y,0===o.hue&&(o.hue=n._hue)),r=o.toRGB(),(t=e.colorInput.val())!=r.hex()&&(n._shouldUpdateMainInput?(4<t.length||0===t.length)&&(n._isHsl?e.colorInput.val(r.cssa()):e.colorInput.val(r.hex())):n._shouldUpdateMainInput=!0),e.rInput&&(n._shouldUpdateRgbInputs?(e.rInput.value((255*r.red).toFixed(2)),e.gInput.value((255*r.green).toFixed(2)),e.bInput.value((255*r.blue).toFixed(2))):n._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=r.cssa(),e.currentColor.color=r)},_Z:function(e,t,o){var r,n=this,l=e.colorInput.val();n._isHsl?(r=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color,e.Y(o,t),r.lightness=1-t,e.colorDiv.get(0).style.background=r.toRGB().cssa(),l!=(e.currentColor.color=r).toRGB().hex()&&(n._shouldUpdateMainInput?(4<l.length||0===l.length)&&(n._isHsl?e.colorInput.val(r.toRGB().cssa()):e.colorInput.val(r.toRGB().hex())):n._shouldUpdateMainInput=!0)):(r=e.currentColor.color.toHSV(),e.Y(o,t),e._rgbBg(e,e.wrapperDiv.find(".sui-color-palette").get(0),t),n._hue=r.hue=t,l!=(o=r.toRGB()).hex()&&(4<l.length||0===l.length)&&(n._isHsl?e.colorInput.val(o.cssa()):e.colorInput.val(o.hex())),e.rInput&&(n._shouldUpdateRgbInputs?(e.rInput.value((255*o.red).toFixed(2)),e.gInput.value((255*o.green).toFixed(2)),e.bInput.value((255*o.blue).toFixed(2))):n._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=o.cssa(),e.currentColor.color=o)},_A:function(e,t,o){var r=e.colorInput.val(),n=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color;e.Y(o,t),n.alpha=(1-t).toFixed(2),e.colorDiv.get(0).style.background=n.toRGB().cssa(),r!=(e.currentColor.color=n).toRGB().hex()&&(this._shouldUpdateMainInput?(4<r.length||0===r.length)&&(e.colorInput.val(n.toRGB().cssa()),this.trigger(_)):this._shouldUpdateMainInput=!0)},_rgbBg:function(e,t,o){o=new w({}).HSV(o,1,1).toRGB().cssa();e.BG(t,o)},clamp:function(e,t,o){return Math.min(Math.max(e,t),o)},X:function(e,t){e.style.left=this.clamp(100*t,0,100)+"%"},Y:function(e,t){e.style.top=this.clamp(100*t,0,100)+"%"},BG:function(e,t){e.style.background=t},_done:function(){},enabled:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return e._enabled;(t=t[0])?(e._picker&&e._picker.removeClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.removeClass("sui-colorpicker-disabled")):(e._picker&&e._picker.addClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.addClass("sui-colorpicker-disabled")),e._applyButton&&e._applyButton.enabled(t),e._cancelButton&&e._cancelButton.enabled(t),t?(e.colorInput&&e.colorInput.removeAttr("readonly"),e.rInput&&(e.rInput.enable(!0),e.gInput.enable(!0),e.bInput.enable(!0))):(e.colorInput&&e.colorInput.attr("readonly","readonly"),e.rInput&&(e.rInput.enable(!1),e.gInput.enable(!1),e.bInput.enable(!1))),e._enabled=t},value:function(){var e,t=this,o=t.options,r=[].slice.call(arguments);if(!(0<r.length))return e=(e=t.currentColor.color).css?e:e.toRGB();if(e=r[0],t.currentColor=new w({color:e}),"basic"==o.palette){var n=t.currentColor.color.css();if(t.wrapperDiv)for(var l=t.wrapperDiv.find(".sui-palette-tile"),i=0;i<l.length;i++)l[i].style.backgroundColor.replace(/\s+/g,"")===n.replace(/\s+/g,"")&&(l.removeClass("sui-palette-tile-selected"),s(l[i]).addClass("sui-palette-tile-selected"))}else t._changeAdvancedPaletteColor();o.displayInline||(o.showLetter?(t._picker.find(".sui-color-cell"),t._picker.find(".sui-selected-color").css("background-color",t.currentColor.color.cssa())):t._picker.find(".sui-color-cell").css("background-color",t.currentColor.color.cssa())),t._changed()},destroy:function(){var e=this;e.element.show(),e.wrapperDiv.remove(),e.colorInput&&e.colorInput.off(i,e._colorInputKeyDown),e.rInput&&(e.rInput.destroy(),e.gInput.destroy(),e.bInput.destroy()),e.options.displayInline&&"basic"==e.options.palette&&(e.wrapperDiv.find(".sui-palette-tile").off(v,e._tileClicked),e.wrapperDiv.remove()),e._applyButton&&e._applyButton.destroy(),e._cancelButton&&e._cancelButton.destroy(),s(u).off(f+".shieldColorPicker"+e.getInstanceId()),e._tileClicked=e._rInputKeyDown=e._gInputKeyDown=e._bInputKeyDown=e._hidePopupDelegate=e._picker=e._applyButton=e._cancelButton=e._isHsl=e.currentColor=e.wrapperDiv=e.colorInput=e.colorDiv=e.rInput=e.gInput=e._enabled=e._popupIsOver=e.bInput=null,c.fn.destroy.call(e)}}),I=t.extend({init:function(e,t){var o=this,r=e.isXYslider,n=e.cbs,l=e.twod,i=e.pointer,e=e.oned;return o.colorPicker=t,r?(o.drag(l,o.attachPointer(o,n,i)),{background:l,pointer:i}):(o.drag(e,o.attachPointer(o,n,i)),{background:e,pointer:i})},drag:function(e,t){e?this.isTouch()?this.dragTemplate(e,t,"touchstart","touchmove","touchend"):this.dragTemplate(e,t,"mousedown","mousemove","mouseup"):console.warn("drag is missing elem!")},attachPointer:function(e,t,r){var o,n={};for(o in t)t.hasOwnProperty(o)&&(n[o]=function(o){return function(e,t){t.pointer=r,o(e,t)}}(t[o]));return n},isTouch:function(){return void 0!==a.ontouchstart},dragTemplate:function(r,e,t,n,l){var i=this,a=(e=i.getCbs(e)).begin,s=e.change,c=e.end;i.on(r,t,function(t){0;var o=i.partial(i,i.callCb,s,r);i.on(u,n,o),i.on(u,l,function e(){i.off(u,n,o),i.off(u,l,e),i.callCb(c,r,t)}),i.callCb(a,r,t)})},on:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},off:function(e,t,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent&&e.detachEvent("on"+t,o)},getCbs:function(e){var t,o;return e?{begin:e.begin||function(){},change:e.change||function(){},end:e.end||function(){}}:{begin:function(e){t={x:e.elem.offsetLeft,y:e.elem.offsetTop},o=e.cursor},change:function(e){e.elem.style.left=t.x+e.cursor.x-o.x+"px",e.elem.style.top=t.y+e.cursor.y-o.y+"px"},end:function(){}}},callCb:function(e,t,o){o.preventDefault();var r=s(t).offset(),n=t.clientWidth,l=t.clientHeight,i={x:this.cursorX(t,o),y:this.cursorY(t,o)},n=(i.x-r.left)/n,r=(i.y-r.top)/l;e(this,{x:isNaN(n)?0:n,y:isNaN(r)?0:r,cursor:i,elem:t,e:o})},partial:function(e,t){var o=Array.prototype.slice,r=o.apply(arguments,[2]),n=this;return function(){return t.apply(n,r.concat(o.apply(arguments)))}},cursorX:function(e,t){return this.isFixed(e)?(e=parseInt(this.getStyle(u.body,"marginLeft"),10)-this.calc(e,"scrollLeft")+a.pageXOffset+e.style.marginLeft,t.clientX-e):t.pageX||(t.clientX?t.clientX+u.body.scrollLeft:void 0)},cursorY:function(e,t){return this.isFixed(e)?(e=parseInt(this.getStyle(u.body,"marginTop"),10)-this.calc(e,"scrollTop")+a.pageYOffset+e.style.marginTop,t.clientY-e):t.pageY||(t.clientY?t.clientY+u.body.scrollTop:void 0)},calc:function(e,t){for(var o=0;"HTML"!=e.nodeName;)o+=e[t],e=e.parentNode;return o},isFixed:function(e){for(;"HTML"!=e.nodeName&&"fixed"!=this.usedStyle(e,"position");)e=e.parentNode;return"HTML"!=e.nodeName},getStyle:function(e,t){return(e.currentStyle||(u.defaultView&&u.defaultView.getComputedStyle?u.defaultView.getComputedStyle(e,""):e.style))[t]},usedStyle:function(e,t){e=a.getComputedStyle?a.getComputedStyle(e,null):e.currentStyle;return e[t]}}),w=t.extend({init:function(e){var t,o=this,e=e.color;g(e)||null===e||""===(t=e,p.string(t)?t.replace(/^\s+/,"").replace(/\s+$/,""):t)?o.color=o.getColor("#000"):p.integer(e)?o.color=o.getColor("rgb("+(t=[(16711680&(t=e+0))>>16,(65280&t)>>8,255&t])[2]+","+t[1]+","+t[0]+")"):o.color=o.getColor(e)},getColor:function(e){var t,o,r,n,l,i=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,i=new RegExp("^(rgb|hsl|hsv)a?\\("+i.source+","+i.source+","+i.source+"(?:,"+/\s*(\.\d+|\d+(?:\.\d+)?)\s*/.source+")?\\)$","i");return(i=(e="transparent"===e.toLowerCase()?"rgba(0,0,0,0)":e).match(i))?(t=i[1].toUpperCase(),o=g(i[8])?i[8]:parseFloat(i[8]),l="H"===t[0],r=i[3]?100:l?360:255,n=i[5]||l?100:255,l=i[7]||l?100:255,this[t](parseFloat(i[2])/r,parseFloat(i[4])/n,parseFloat(i[6])/l,o)):(t=(e=e.length<6?e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"):e).match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i))?this.RGB(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255):e},RGB:function(e,t,o,s){var c=this;return{red:e,green:t,blue:o,alpha:g(s)?1:s,hex:function(){var e=(65536*Math.round(255*this.red)+256*Math.round(255*this.green)+Math.round(255*this.blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this.alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+")"},cssa:function(){return"rgba("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+","+this.alpha+")"},toHSV:function(){var e,t=this.red,o=this.green,r=this.blue,n=Math.max(t,o,r),l=n-Math.min(t,o,r),i=0===n?0:l/n,a=n;if(0==l)e=0;else switch(n){case t:e=(o-r)/l/6+(o<r?1:0);break;case o:e=(r-t)/l/6+1/3;break;case r:e=(t-o)/l/6+2/3}return c.HSV(e,i,a,s)},toHSL:function(){var e=this.toHSV();return c.HSV(e.hue,e.saturation,e.value,e.alpha).toHSL()},toCMYK:function(){var e=this.red,t=this.green,o=this.blue,r=1-e,n=1-t,l=1-o,i=1;return e||t||o?(r=(r-(i=Math.min(r,Math.min(n,l))))/(1-i),n=(n-i)/(1-i),l=(l-i)/(1-i)):i=1,c.CMYK(r,n,l,i,s)}}},HSV:function(e,t,o,u){var p=this;return{hue:e,saturation:t,value:o,alpha:g(u)?1:u,toRGB:function(){var e,t,o,r=this.hue,n=this.saturation,l=this.value,i=Math.min(5,Math.floor(6*r)),r=6*r-i,a=l*(1-n),s=l*(1-r*n),c=l*(1-(1-r)*n);switch(i){case 0:e=l,t=c,o=a;break;case 1:e=s,t=l,o=a;break;case 2:e=a,t=l,o=c;break;case 3:e=a,t=s,o=l;break;case 4:e=c,t=a,o=l;break;case 5:e=l,t=a,o=s}return p.RGB(e,t,o,u)},toHSL:function(){var e=(2-this.saturation)*this.value,t=this.saturation*this.value,o=e<=1?e:2-e,t=o<1e-9?0:t/o;return p.HSL(this.hue,t,e/2,this.alpha)}}},HSL:function(e,t,o,r){var n=this;return{hue:e,saturation:t,lightness:o,alpha:g(r)?1:r,toHSV:function(){var e=2*this.lightness,t=this.saturation*(e<=1?e:2-e),o=e+t<1e-9?0:2*t/(e+t);return n.HSV(this.hue,o,(e+t)/2,this.alpha)},toRGB:function(){return this.toHSV().toRGB()}}},CMYK:function(e,t,o,r,n){var l=this;return{cyan:e,magenta:t,yellow:o,black:r,alpha:g(n)?1:n,toRGB:function(){return l.RGB(1-this.cyan*(1-this.black)-this.black,1-this.magenta*(1-this.black)-this.black,1-this.yellow*(1-this.black)-this.black,this.alpha)}}},destroy:function(){this.color=null}});o.defaults=r,l.ui.plugin("ColorPicker",o),l.ui.ColorPicker=o}(jQuery,shield,this);