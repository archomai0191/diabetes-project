/* Shield UI 1.7.44 Trial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula | Expires on Tue, 13 Sep 2022 03:00:24 GMT */
!function(v,l,m,p){function f(e){return(e=v(e).prop("tagName").toLowerCase())==L?R:"input"==e?P:"textarea"==e?Be:"uto"}function W(e){return v("<div/>").text(e).html()}function O(e){var t;(e=v(e)).focus(),e.get(0).setSelectionRange?(t=2*e.val().length,e.get(0).setSelectionRange(t,t)):e.val(e.val())}function H(e){var t=(e+="").lastIndexOf(".");return-1<t?e.length-t-1:0}function u(e,t){if(e&&!$(e))if(z(e))for(var n=0;n<e.length;n++)u(e[n],t);else if(e.or||e.and)for(var i in e)e.hasOwnProperty(i)&&u(e[i],t);else e.value=t}var F,n,s,e,b=l.ui.Widget,K=(l.Class,l.DataSource),i=l.ui.Position,o=l.Constants.KeyCode,g=l.error,$=l.is.func,z=l.is.array,x=l.is.defined,G=(l.is.number,l.is.string),Z=(l.is.object,l.to.array),j=l.to.int,q=l.to.number,Q=l.support.browser,d=l.format,h=l.strid,X=document,J=Math.min,Y=Math.max,ee=Math.pow,te=v.extend,ne=(v.map,v.each),k=v.proxy,ie=v.inArray,S="id",y="role",_="true",C="false",ae="textbox",a="aria",w=a+"-selected",le=a+"-autocomplete",se=a+"-activedescendant",oe=a+"-multiline",re=a+"-valuenow",ue=a+"-disabled",ce=a+"-haspopup",c=a+"-checked",de=a+"-label",he=a+"-labelledby",pe=a+"-controls",_e=a+"-expanded",ve="title",r="disabled",A="checked",me="selected",fe="itemclick",D="tabindex",be="mousedown",ge="mouseup",xe="mouseout",T="click",N="keydown",ke="dragstart",Se="dragenter",ye="dragover",E="change",B="focus",I="blur",Ce="resize",L="select",M="value",we="placeholder",Ae="selectstart",De="unselectable",Te="height",Ne="suilbitemdata",V="suilbitemindex",U="suilbitemvalue",Ee="suilbitemtext",R="uts",P="uti",Be="utta",t={enabled:!0,cls:p,dataSource:p,readDataSource:!0,valueTemplate:p,textTemplate:p,multiple:p,selected:p,values:p,width:p,height:p,maxHeight:p,events:{}},Ie=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n=this,i=n.options,a=i.dieOnError,l=i.dataSource,s=i.selected,o=i.values,r=i.renderToINTERNAL,u=i.wrapOriginalINTERNAL,c=i.tabindexINTERNAL,d=i.filterINTERNAL,d=x(d)?{filter:d}:{},u=!x(u)||u;if(n._original=e=v(n.element),n._utype=t=f(e),t==P&&i.multiple)return n.destroy(),void g("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",a);if(n._eventNS=".shieldListBox"+n.getInstanceId(),x(o)||x(s)||t!=R&&t!=P||(o=e.val()),u?(n.wrapper=e.wrap("<span/>").parent(),n._isWrapped=!0):n._isWrapped=!1,e.hide(),n.element=u=v('<ul id="'+h()+'"/>').on(B+n._eventNS,k(n._focus,n)).on(I+n._eventNS,k(n._blur,n)),x(i.width)&&u.css("width",i.width),x(i.height)&&u.css(Te,i.height),x(i.maxHeight)&&u.css("max-height",i.maxHeight),0<v(r).length?v(r).append(u):e.after(u),l)n.dataSource=K.create(l,d),i.valueTemplate||(i.valueTemplate="{0}"),i.textTemplate||(i.textTemplate="{0}");else{if(t!=R)return n.destroy(),void g("shieldListBox: No dataSource or underlying SELECT element found.",a);n.dataSource=K.create(te({},{data:e,schema:{type:L}},d)),i.valueTemplate||(i.valueTemplate="{value}"),i.textTemplate||(i.textTemplate="{text}"),x(i.multiple)||(i.multiple=e.not("[multiple]").length<=0)}u.addClass("sui-listbox"),i.cls&&u.addClass(i.cls),r=x(c)?c:e.attr(D),u.attr(D,x(r)?r:"0"),u.on(N+n._eventNS,k(n._keydown,n)),n.dataSource.on(E+n._eventNS,k(n._dsChange,n)),x(o)?n._initValues=o:x(s)&&(n._initSelected=s),u.attr(y,"listbox"),i.multiple&&u.attr("aria-multiselectable",_),i.readDataSource&&n.dataSource.read(),n.enabled(i.enabled)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){this._oldSelection=this.selected(),this.trigger(B)},_blur:function(e){var t=this,n=t._oldSelection,i=t.selected();0===v(n).not(i).length&&0===v(i).not(n).length||t.trigger(E),t._oldSelection=i,t.trigger(I)},_dsChange:function(e){var t=this;t._render(),t._dsLoadedOnce||(t._dsLoadedOnce=!0,x(t._initValues)?t.values(t._initValues):x(t._initSelected)&&t.selected(t._initSelected))},_render:function(){var l=this,s=l.options,e=l.dataSource.view,o=v(l.element),r=l._utype,u=l._original,c=o.attr(S)+"_opt";r==P&&l._original.val();o.empty(),r==R?u.empty():r==P&&u.removeAttr(M),e&&ne(e,function(t,n){var e=d.call(l,s.valueTemplate,n),i=d.call(l,s.textTemplate,n),a=v('<li id="'+c+t+'" role="option">'+i+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(e){l._enabled&&(l._setActive(v(this)),l._toggleActive(e)),l.trigger(fe,{index:t,item:n})}).on(Ae,function(){return!1}).data(Ne,n).data(V,t).data(U,e).data(Ee,i);s.multiple&&a.attr(w,C),o.append(a),r==R&&u.append(v("<option/>").attr(M,e).text(i))})},_keydown:function(e){var t=this,n=!0;switch(e.keyCode){case o.UP:t._move("up",e);break;case o.DOWN:t._move("down",e);break;case o.HOME:t._move("first",e),n=!1;break;case o.END:t._move("last",e),n=!1;break;case o.SPACE:case o.ENTER:t._toggleActive(e);break;default:n=!1}n&&e.preventDefault()},_move:function(e,t){var n=this,i=v(n.element),a=i.find(".sui-listbox-item-active").first(),l=i.find(":first");n._enabled&&("up"==e?0<a.prev().length?l=a.prev():0<a.length&&(l=a):"down"==e?0<a.next().length?l=a.next():0<a.length&&(l=a):"first"==e?l=i.find(".sui-listbox-item").first():"last"==e&&(l=i.find(".sui-listbox-item").last()),l.length<=0||(n.options.multiple?(n._setActive(l),n._ensureInScrollableArea(l)):n._select(l)))},_ensureInScrollableArea:function(e){var t=v(this.element),n=t.height(),i=t.scrollTop(),a=e.outerHeight(),e=e.position().top,a=e+a;e<0?t.scrollTop(i+e):n<a&&t.scrollTop(i+(a-n))},ensureActiveViewableINTERNAL:function(){var e=this._getActive();0<e.length&&this._ensureInScrollableArea(e)},_getActive:function(){return v(this.element).find(".sui-listbox-item-active").first()},_setActive:function(e){e.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active"),v(this.element).attr(se,e.attr(S))},_setSelected:function(e){e.addClass("sui-listbox-item-selected").attr(w,_)},_unsetSelected:function(e){e.removeClass("sui-listbox-item-selected"),this.options.multiple?e.attr(w,C):e.removeAttr(w)},_toggleActive:function(e){this._toggle(e,this._getActive())},_toggle:function(e,t){var n=this;!n._enabled||!t||t.length<=0||(n.options.multiple&&t.hasClass("sui-listbox-item-selected")?n._deselect(t):n._select(t))},_select:function(e,t){var n=this,i=n._original,a=n._utype;n.options.multiple||n.clearSelection(),n._setActive(e),n._ensureInScrollableArea(e),n._setSelected(e),a==R?i.find("option:eq("+e.data(V)+")").attr(me,me):a==P&&i.attr(M,e.data(U)),t||n.trigger(L,{index:e.data(V),item:e.data(Ne),value:e.data(U),text:e.data(Ee),selected:!0})},_deselect:function(e,t){var n=this,i=n._original,a=n._utype;n._setActive(e),n._unsetSelected(e),a==R?i.find("option:eq("+e.data(V)+")").removeAttr(me):a==P&&i.removeAttr(M),t||n.trigger(L,{index:e.data(V),item:e.data(Ne),value:e.data(U),text:e.data(Ee),selected:!1})},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(r).removeClass("sui-listbox-disabled"),t.removeAttr(r)):(e.attr(r,r).addClass("sui-listbox-disabled"),t.attr(r,r)),this._enabled=n},selected:function(){var t,n,e,i=this,a=v(i.element),l=[].slice.call(arguments);if(!(0<l.length))return e=[],a.find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(V))}),e;t=Z(l[0]),n=!x(l[1])||!!l[1],a.find(".sui-listbox-item").each(function(e){-1<ie(e,t)&&(n?i._select(v(this),!0):i._deselect(v(this),!0))})},selectedItems:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(Ne))}),e},values:function(){var e,t,n=this,i=v(n.element),a=[].slice.call(arguments);if(!(0<a.length))return t=[],i.find(".sui-listbox-item-selected").each(function(){t.push(v(this).data(U))}),t;e=Z(a[0]),i.find(".sui-listbox-item").each(function(){if(-1<ie(v(this).data(U),e))return n._select(v(this),!0),!!n.options.multiple})},texts:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(Ee))}),e},clearSelection:function(){var e=this._original,t=this.options.multiple,n=this._utype;n==R?e.find("option").removeAttr(me):n==P&&e.removeAttr(M),v(this.element).find(".sui-listbox-item-selected").each(function(){v(this).removeClass("sui-listbox-item-selected sui-listbox-item-active"),t?v(this).attr(w,C):v(this).removeAttr(w)})},destroy:function(){var e=this,t=e._eventNS;e._dsLoadedOnce=!1,v(e.element).off(t).remove(),e.dataSource&&e.dataSource.off(E+t),e._isWrapped&&e._original.unwrap(),e._original.show(),b.fn.destroy.call(e)}});Ie.defaults=t,l.ui.plugin("ListBox",Ie),t={enabled:!0,cls:p,autoComplete:p,value:p,events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.autoComplete,i=t.cls,a=t.value,l=v(e.element);e._eventNS=".shieldTextBox"+e.getInstanceId(),l.addClass("sui-input"),n&&(e.autoComplete=new F(l,n)),i&&l.addClass(i),l.on(B+e._eventNS,k(e._focus,e)).on(I+e._eventNS,k(e._blur,e)),l.attr(y,ae),f(l)==Be&&l.attr(oe,_),e.enabled(t.enabled),x(a)&&e.value(a)},focus:function(){v(this.element).focus(),O(v(this.element))},_focus:function(e){var t=this;t.oldValue=t._value(),t.interval=setInterval(k(t._detectChanges,t),1),t.trigger(B)},_blur:function(e){clearInterval(this.interval),this.trigger(I)},_detectChanges:function(){var e=this;e._enabled&&e.oldValue!==e._value()&&(e.trigger(E,{value:e._value(),old:e.oldValue}).isDefaultPrevented()?e._value(e.oldValue):e.oldValue=e._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(r).removeClass("sui-input-disabled"):e.attr(r,r).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this,t=e.autoComplete,n=e.options.cls;clearInterval(e.interval),e.element.off(e._eventNS).removeClass("sui-input"+(n?" "+n:"")),t&&t.destroy(),b.fn.destroy.call(e)}})).defaults=t,l.ui.plugin("TextBox",e),t={dataSource:p,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:p,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(F=b.extend({init:function(){b.fn.init.apply(this,arguments);var t=this,n=v(t.element),i=t.options,e=i.dataSource,a=i.dieOnError,l=i.appendListBoxTo;if(t.pending=0,t.oldValue=n.val(),!e)return t.destroy(),void g("shieldAutoComplete: No dataSource set",a);e.filter||(e.filter={and:[{path:"",filter:"contains",value:""}]}),t._eventNS=".shieldAutoComplete"+t.getInstanceId(),n.addClass("sui-input"),t.listElement=v("<span/>").appendTo(v(l)),t.listBox=new Ie(t.listElement,{cls:"sui-autocomplete",dataSource:e,readDataSource:!1,textTemplate:i.textTemplate,multiple:!1,width:i.dropDownWidth||n.innerWidth(),events:{select:function(e){t._value(d.call(t,i.valueTemplate,e.item)),t.trigger(L,{item:e.item})},itemclick:function(e){n.focus(),t._inputBlur(e,0)},blur:function(e){t._inputBlur(e,0)}}}),t.listBox.element.hide(),t.dataSource=t.listBox.dataSource,n.on(N+t._eventNS,k(t._inputKeydown,t)).on(I+t._eventNS,k(t._inputBlur,t,100)),n.attr(le,"list").attr(pe,t.listBox.element.attr(S)).attr(ce,t.listBox.element.attr(y)),n.attr(y,ae),f(n)==Be&&n.attr(oe,_),t.listBox.dataSource.on(E+t._eventNS,k(t._dsChange,t)),v(m).on(Ce+t._eventNS,k(t._position,t)),t._open=!1,i.open&&t._searchTimeout()},_checkValueUpdated:function(){var e=this,t=e.element.val();e.oldValue!==t&&(e.trigger(E,{value:e._value()}),e.oldValue=t)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(e){var t=this;switch(e.keyCode){case o.TAB:break;case o.UP:case o.DOWN:t._inputUpDown(e);break;case o.ENTER:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._checkValueUpdated();break;case o.ESC:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._restoreOldValue();break;default:t._searchTimeout(e)}},_inputUpDown:function(e){var t=this;t._open?t._hasData()&&v(t.listBox.element).trigger(e):t._hasData()&&t._showItemList()},_inputBlur:function(e,t){var n=this;setTimeout(function(){v(n.listBox.element).is(":focus")||(n._hideItemList(),n._checkValueUpdated())},t)},_searchTimeout:function(e){var t=this;clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==t._value()&&(t.trigger("search",{value:t._value()}),t._search())},t.options.delay)},_search:function(){var e=this;e.term=e._value(),e.term.length<e.options.minLength?e._hideItemList():(e.cancelSearch=!1,e.pending++,v(e.element).addClass("sui-autocomplete-loading"),u(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this;e.pending--,e.pending||v(e.element).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showItemList():e._hideItemList()},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showItemList:function(){var e=this,t=e.listBox,n=v(t.element),i=e.options.animation;n.css({top:0,left:0}),n.show(),e._position(),!e._open&&i&&i.enabled?n.hide().slideDown(i.openDelay,k(t.ensureActiveViewableINTERNAL,t)):t.ensureActiveViewableINTERNAL(),e._open=!0},_hideItemList:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){v(this.listBox.element).hide()},show:function(){v(this.listBox.element).show()},isVisible:function(){return v(this.listBox.element).is(":visible")},destroy:function(){var e=this;e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(E+e._eventNS),e.listBox.destroy(),e.listBox=null),e.element.off(e._eventNS).removeClass("sui-input"),v(m).off(Ce+e._eventNS),e.listElement&&e.listElement.remove(),b.fn.destroy.call(e)}})).defaults=t,l.ui.plugin("AutoComplete",F),e={enabled:!0,cls:"",min:0,max:100,value:p,step:p,editable:!0,spinners:!0,valueTemplate:p,textTemplate:p,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},(t=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n,i=this,a=i.options,l=a.cls,s=a.value,o=a.step,r=a.editable,u=a.spinners,c=a.labels,d=c.increase,c=c.decrease,h=a.dieOnError;i._original=t=v(i.element),f(t)!=P?g("shieldNumericTextBox: Underlying element is not INPUT",h):(x(o)?a.step=o=q(o):(n=H(x(s)?s:i._value()),a.step=o=0<n?1/ee(10,n):1),o?(i._eventNS=".shieldNumericTextBox"+i.getInstanceId(),i.element=n=t.wrap("<span/>").parent(),t.hide(),x(s)||(s=i._value()),r?(e=v('<input type="text" class="sui-input" />'),r=t.attr(we),x(r)&&e.attr(we,r)):e=v('<span class="sui-input">&nbsp;</span>').attr(D,"0"),(i.textElement=e).appendTo(n),e.on(B+i._eventNS,k(i._focus,i)).on(I+i._eventNS,k(i._blur,i)),u&&(i._onSpinUpMDProxy=k(i._spinUpMD,i),i._onSpinDownMDProxy=k(i._spinDownMD,i),i._onSpinnerMUProxy=k(i._spinnerMU,i),i.spinUp=t=v('<span class="sui-spinner sui-spinner-up sui-unselectable"/>').html('<span class="sui-caret-up sui-unselectable" unselectable="on"/>').attr(De,"on").attr("alt",d).attr(ve,d).on(be+i._eventNS,i._onSpinUpMDProxy).on(ge+i._eventNS,i._onSpinnerMUProxy).on(xe+i._eventNS,i._onSpinnerMUProxy).on(Ae+i._eventNS,function(){return!1}),i.spinDown=r=v('<span class="sui-spinner sui-spinner-down sui-unselectable"/>').html('<span class="sui-caret-down sui-unselectable" unselectable="on"/>').attr(De,"on").attr("alt",c).attr(ve,c).on(be+i._eventNS,i._onSpinDownMDProxy).on(ge+i._eventNS,i._onSpinnerMUProxy).on(xe+i._eventNS,i._onSpinnerMUProxy).on(Ae+i._eventNS,function(){return!1}),n.append(v('<span class="sui-spinners"/>').append(t,r))),e.on(N+i._eventNS,k(i._keydown,i)),n.addClass("sui-numeric-textbox"+(u?"":" sui-numeric-textbox-nosp")+(l?" "+l:"")),d=H(o),x(a.textTemplate)||(a.textTemplate="{0:n"+d+"}"),x(a.valueTemplate)||(a.valueTemplate="{0:n"+d+"}"),n.attr(y,"spinbutton").attr("aria-valuemin",a.min).attr("aria-valuemax",a.max),i.enabled(a.enabled),x(s)&&i.value(s),i._destroyed=!1):g("shieldNumericTextBox: Invalid step",h))},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,v(t.element).addClass("sui-numeric-textbox-focus"),t.value(t.value()),t.trigger(B))},_blur:function(e){var t,n,i=this,a=v(i.element),l=v(i.textElement);i.options.editable&&(t=i.value(),i._updateIfDirty(),(n=i.value())!==t&&i.trigger(E,{value:n})),setTimeout(function(){var e,t;a.is(":focus")||l.is(":focus")||i._destroyed||(i._hasFocus=!1,a.removeClass("sui-numeric-textbox-focus"),i.options.editable?(e=i.value(),i.value(l.val()),(t=i.value())!==e&&i.trigger(E,{value:t})):i.value(i.value()),i.trigger(I))},100)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled;switch(n){case o.TAB:case o.LEFT:case o.RIGHT:break;case o.END:t._updateValue("max",!1),e.preventDefault();break;case o.HOME:t._updateValue("min",!1),e.preventDefault();break;case o.ESC:i&&t.value(t.value()),e.preventDefault();break;case o.UP:t._updateValue("inc",!1),e.preventDefault();break;case o.DOWN:t._updateValue("dec",!1),e.preventDefault();break;default:t.options.editable&&i&&(48<=n&&n<=57||96<=n&&n<=105||190==n||110==n||173==n||109==n||189==n||n==o.DEL||n==o.BACK||n==o.ENTER||e.ctrlKey&&(118==n||86==n))?t._dirty=!0:e.preventDefault()}},_spinUpMD:function(e){var t=this;e.preventDefault(),t._updateValue("inc",!1),t._spinUpCancel=!1,setTimeout(function(){t._spinUpInt||t._spinUpCancel||(t._spinUpInt=setInterval(k(t._updateValue,t,"inc",!1),20))},100)},_spinDownMD:function(e){var t=this;e.preventDefault(),t._updateValue("dec",!1),t._spinDownCancel=!1,setTimeout(function(){t._spinDownInt||t._spinDownCancel||(t._spinDownInt=setInterval(k(t._updateValue,t,"dec",!1),20))},100)},_spinnerMU:function(e){var t=this;t._spinUpCancel=t._spinDownCancel=!0,clearInterval(t._spinUpInt),clearInterval(t._spinDownInt),t._spinUpInt=t._spinDownInt=null},_updateIfDirty:function(){var e=v(this.textElement);this._dirty&&(this.value(e.val()),this._dirty=!1)},_updateValue:function(e,t,n){var i,a=this,l=a.options,s=l.min,o=l.max,r=l.step,u=v(a.textElement),c=!1;a._enabled&&(a._updateIfDirty(),i=a.value(),x(i)||(i=0),t=!x(t)||!!t,n=!x(n)||!!n,"inc"==e?i<o&&(a.value(i+r),c=!0):"dec"==e?s<i&&(a.value(i-r),c=!0):"min"==e?(a.value(s),c=!0):"max"==e&&(a.value(o),c=!0),n&&(u.focus(),l.editable&&O(u)),c&&!t&&a.trigger(E,{value:a.value()}))},increment:function(){this._updateValue("inc",!0,!1)},decrement:function(){this._updateValue("dec",!0,!1)},value:function(){var e,t=this,n=t.options,i=[].slice.call(arguments),a=t.element,l=v(t.textElement);if(!(0<i.length))return q(t._value());i=x(i[0])&&null!==i[0]&&""!==i[0]?(e=Y(J(i[0],n.max),n.min),e=d.call(t,n.valueTemplate,e),e=q(e),d.call(t,n.textTemplate,e)+""):(e=null,""),n.editable?t._hasFocus&&t._enabled?l.val(e):l.val(i):l.html(i),t._value(e),null!==e?a.attr(re,e):a.removeAttr(re),a.attr("aria-valuetext",W(i))},_value:function(){return this._original.attr.apply(this._original,[M].concat([].slice.call(arguments)))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(r).removeClass("sui-numeric-textbox-disabled"):e.attr(r,r).addClass("sui-numeric-textbox-disabled"),this._enabled=t},focus:function(){v(this.textElement).focus(),O(v(this.textElement))},destroy:function(){var e=this;e._destroyed=!0,e.options.spinners&&(v(e.spinUp).off(e._eventNS).remove(),v(e.spinDown).off(e._eventNS).remove(),e.spinUp=e.spinDown=null),v(e.textElement).off(e._eventNS).remove(),e.textElement=null,e._original.unwrap().show(),e._original=null,b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("NumericTextBox",t),e={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(e){return/^[0-9]$/.test(e)},9:function(e){return/^[0-9 ]$/.test(e)},"#":function(e){return/^[0-9 \+\-]$/.test(e)},L:function(e){return/^[a-zA-Z]$/.test(e)},"?":function(e){return/^[a-zA-Z ]$/.test(e)},"&":function(e){return/^[\S]$/.test(e)},C:function(e){return/^[.]$/.test(e)},A:function(e){return/^[0-9a-zA-Z]$/.test(e)},a:function(e){return/^[0-9a-zA-Z ]$/.test(e)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:p,events:{}},(t=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.dieOnError,i=t.value,a=v(e.element);f(a)!=P?g("shieldMaskedTextBox: Underlying element is not INPUT",n):e._verifyMask()?(e._eventNS=".shieldMaskedTextBox"+e.getInstanceId(),a.addClass("sui-input"),t.cls&&a.addClass(t.cls),x(i)&&e.value(i),a.on(B+e._eventNS,k(e._focus,e)).on(I+e._eventNS,k(e._blur,e)).on(N+e._eventNS,k(e._keydown,e)).on("keypress"+e._eventNS,k(e._keypress,e)).on("cut"+e._eventNS,k(e._cut,e)).on("paste"+e._eventNS,k(e._paste,e)).on(ke+e._eventNS,k(e._dragstart,e)).on(Se+e._eventNS,k(e._dragenter,e)).on(ye+e._eventNS,k(e._dragover,e)).on("drop"+e._eventNS,k(e._drop,e)),a.attr(y,ae),e.enabled(t.enabled)):g("shieldMaskedTextBox: Invalid mask",n)},_getMask:function(){for(var e,t=this.options.mask,n="",i=0;i<t.length;i++)e=t.charAt(i),n+=this._isCultureSpecific(e)?this._getCultureSpecific(e):e;return n},_isCultureSpecific:function(e){return-1!==ie(e,this.options.cultureSpecific)},_getCultureSpecific:function(e){var t=l.getCurrencyInfo();return"$"==e?t.symbol:t[e]},_skipSymbol:function(e){var t=this.options.separators;return-1!==ie(e,t)||this._isCultureSpecific(e)},_insertAt:function(e,t,n){return e.substr(0,n)+t+e.substr(n)},_removeAt:function(e,t){return e.substr(0,t)+e.substr(t+1)},_caret:function(e,t){var n,i=v(this.element);if(0!==i.length&&!i.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,i.each(function(){i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((n=i.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(i[0].setSelectionRange?(e=i[0].selectionStart,t=i[0].selectionEnd):X.selection&&X.selection.createRange&&(n=X.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},_caretTo:function(e){var t=v(this.element);t.prop("selectionStart")!==p?(t.prop("selectionStart",e),t.prop("selectionEnd",e)):X.selection&&(t.focus(),(t=X.selection.createRange()).moveStart("character",-this.value().length),t.moveEnd("character",-this.value().length),t.moveStart("character",e),t.select())},_isValid:function(e,t){var n=this._getMask(),i=this.options.rules;return!(t>=n.length)&&(n=n.charAt(t),$(i[n])&&i[n].call(this,e))},_removeRegion:function(e){var t,n,i=this,a=i.options,l=i._getMask(),s=i._value(),o=i._caret(),r=a.promptChar,u=o.begin;if(u==o.end)e?(t=l.charAt(--u),i._skipSymbol(t)||(0<=u?(s=i._removeAt(s,u),s=i._insertAt(s,r,u),i._value(s)):u=0)):u<s.length&&(t=l.charAt(u),i._skipSymbol(t)?u++:(s=i._shiftLeft(s,u),i._value(s)));else{for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._removeAt(s,n),s=i._insertAt(s,r,n));for(;i._skipSymbol(l.charAt(u));)++u;for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._shiftLeft(s,u));i._value(s)}i._caretTo(u)},_shiftLeft:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),r=s.promptChar,u=t;u<e.length-1;){for(a=u+1;l._skipSymbol(o.charAt(a));)a++;if(a>e.length-1)break;n=e.charAt(a),e=l._removeAt(e,u),i=l._isValid(n,u),e=l._insertAt(e,i?n:r,u),u=a}return e=l._removeAt(e,u),e=l._insertAt(e,r,u)},_shiftRightKey:function(e,t){var n,i,a,l=this,s=l.options,o=l._getMask(),r=e.charAt(t),u=s.promptChar;if(r!=u&&t<e.length-1){for(var c=t+1,d=e.charAt(c);d!=u&&c<=e.length;)d=e.charAt(++c);if(d==u)for(var h=c;t<h;){if(!l._skipSymbol(o.charAt(h))){for(n=e.charAt(i=h-1);l._skipSymbol(o.charAt(i));)n=e.charAt(--i);e=l._removeAt(e,h),a=l._isValid(n,h),e=l._insertAt(e,a?n:u,h)}h--}}return e},_shiftRightPaste:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),r=s.promptChar,u=t,c=e.charAt(u);u<e.length-1;){for(i=u+1;l._skipSymbol(o.charAt(i));)i++;if(i>e.length-1)break;n=e.charAt(i),e=l._removeAt(e,i),a=l._isValid(c,i),e=l._insertAt(e,a?c:r,i),c=n,u=i}return e},_commit:function(e){for(var t=this,n=t._getMask(),i=t._caret(),a=i.begin;t._skipSymbol(n.charAt(a));)++a;if(t._isValid(e,a)){for(i.end>i.begin&&t._removeRegion(!1),i=t._value(),i=t._shiftRightKey(i,a),i=t._removeAt(i,a),i=t._insertAt(i,e,a),t._value(i),a++;t._skipSymbol(n.charAt(a));)a++;t._caretTo(a)}},_verifyValue:function(e){var t=this._getMask();if(e.length!=t.length)return!1;for(var n=0;n<t.length;n++)if(this._skipSymbol(t.charAt(n))){if(t.charAt(n)!==e.charAt(n))return!1}else if(!this._isValid(e.charAt(n),n))return!1;return!0},_verifyMask:function(){for(var e,t=this._getMask(),n=this.options.rules,i=0;i<t.length;i++)if(!this._skipSymbol(t.charAt(i))&&(e=t.charAt(i),!$(n[e])))return!1;return!0},_applyMask:function(){for(var e=this.options,t=this._getMask(),n=e.promptChar,i="",a=0;a<t.length;a++)i+=this._skipSymbol(t.charAt(a))?t.charAt(a):n;this._value(i)},_isEmptyMask:function(){for(var e=this._value(),t=this.options,n=this._getMask(),i=t.promptChar,a=0;a<n.length;a++)if(!this._skipSymbol(n.charAt(a))&&e.charAt(a)!==i)return!1;return!0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(e){var t;v(this.element).addClass("sui-input-focus"),(t=this._value())&&""!==t||this._applyMask(),this.trigger(B)},_blur:function(e){this._clearMaskOnBlur(),this.trigger(I)},_preventDrag:function(e){var t;if(e.type==ke||e.type==Se||e.type==ye||"drop"==e.type)return t=e.originalEvent.dataTransfer,e.type==ke?t.effectAllowed="none":t.dropEffect="none",e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),!1},_triggerChange:function(e){var t=this;e!==t._value()&&t.trigger(E,{value:t._value(),old:e}).isDefaultPrevented()&&t._value(t.oldValue),clearInterval(t.changeInterval),t.changeInterval=p},_dragstart:function(e){return this._preventDrag(e)},_dragenter:function(e){return this._preventDrag(e)},_dragover:function(e){return this._preventDrag(e)},_drop:function(e){return this._preventDrag(e)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled,a=t._value();switch(i||e.preventDefault(),n){case o.BACK:case o.DEL:t._removeRegion(n==o.BACK),t.changeInterval===p&&(t.changeInterval=setInterval(k(t._triggerChange,t,a),20)),e.preventDefault();break;default:if(e.ctrlKey)switch(n){case 118:case 86:case 122:case 90:case 121:case 89:118==n||86==n?t._paste(e):122!=n&&90!=n||(t._undo(),t.changeInterval===p&&(t.changeInterval=setInterval(k(t._triggerChange,t,a),20))),e.preventDefault()}}},_keypress:function(e){var t,n=this,i=e.keyCode,a=e.which,l=(n._enabled,n._value());if(!e.ctrlKey){switch(i){case o.HOME:case o.END:case o.LEFT:case o.RIGHT:case o.TAB:if(Q.ie)break;return;default:t=String.fromCharCode(a),n._commit(t)}e.preventDefault(),n.changeInterval===p&&l!=n._value()&&(n.changeInterval=setInterval(k(n._triggerChange,n,l),20))}},_cut:function(e){var t=this,n=t._caret();t.cutInterval===p&&(t.cutInterval=setInterval(k(t._aftercut,t,n),20))},_aftercut:function(e){for(var t=this,n=t._getMask(),i=t.value(),a=i,l=t.options.promptChar,s=e.begin,o=s;o<e.end;o++)i=t._insertAt(i,t._skipSymbol(n.charAt(o))?n.charAt(o):l,o);for(t._value(i),t._caretTo(s);t._skipSymbol(n.charAt(s));)++s;for(var r=s;r<e.end;r++)t._skipSymbol(n.charAt(r))||(i=t._shiftLeft(i,s));t._value(i),t._caretTo(s),clearInterval(t.cutInterval),t.cutInterval=p,t._triggerChange(a)},_paste:function(e){var t,n,i,a,l=this,s=l._getMask(),o=l._value(),r=o,u=l._caret(),c=u.begin,d=l.options.promptChar,h=e.originalEvent||e;if(c==o.length)e.preventDefault();else if(h.clipboardData?t=h.clipboardData.getData("text/plain"):m.clipboardData&&(t=m.clipboardData.getData("Text")),null==t)e.preventDefault();else{if(c==u.end){for(;l._skipSymbol(s.charAt(c));)c++;for(a=t.length-1;0<=a;a--)o=l._shiftRightPaste(o,c),o=l._removeAt(o,c),n=l._isValid(t.charAt(a),c),o=l._insertAt(o,n?t.charAt(a):d,c);c+=t.length}else{for(i=c;i<u.end;i++)l._skipSymbol(s.charAt(i))||(o=l._removeAt(o,i),o=l._insertAt(o,d,i));for(a=0;a<t.length;a++){for(;l._skipSymbol(s.charAt(c));)c++;o=l._removeAt(o,c),n=l._isValid(t.charAt(a),c),o=l._insertAt(o,n?t.charAt(a):d,c),c++}}l._value(o),l._caretTo(c),e.preventDefault(),l.changeInterval===p&&(l.changeInterval=setInterval(k(l._triggerChange,l,r),20))}},_undo:function(){this._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(0<arguments.length){var e=[].slice.call(arguments);if(!this._verifyValue(e[0]))return!1}return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(r).removeClass("sui-input-disabled"):e.attr(r,r).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(this._eventNS).removeClass("sui-input"+(e?" "+e:"")),b.fn.destroy.call(this)}})).defaults=e,l.ui.plugin("MaskedTextBox",t),e={editable:!0,enabled:!0,open:!1,cls:p,dataSource:p,autoComplete:{enabled:!1,delay:200,minLength:0,filter:p},valueTemplate:p,textTemplate:p,inputTemplate:p,selected:p,value:p,width:p,height:p,dropDownWidth:p,dropDownHeight:200,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(n=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n,i,a,l=this,s=l.options,o=s.editable,r=s.dieOnError,u=s.dataSource,c=s.autoComplete,d=s.selected,h=s.value,p=s.appendListBoxTo,_=s.tooltip||v(l.element).attr(ve)||"";if(l._original=e=v(l.element),l._utype=f(e),!u&&l._utype!=R)return l.destroy(),void g((o?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",r);l._eventNS=".shieldComboBox"+l.getInstanceId(),l.pending=0,l.element=n=e.wrap("<span/>").parent(),e.hide(),l._onDDHandler=k(l._onDD,l),o?(i=v('<input type="text" class="sui-input"/>').focus(function(){v(this).parent().addClass("sui-combobox-focus")}).blur(function(){v(this).parent().removeClass("sui-combobox-focus"),l._blur()}).attr(y,ae).attr(oe,C),r=e.attr(we),x(r)&&i.attr(we,r)):i=v('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(De,"on").on(T+l._eventNS,l._onDDHandler).on(Ae+l._eventNS,function(){return!1}),(l.textElement=i).appendTo(n),l.ddElement=r=v('<span class="sui-caret-container sui-unselectable"/>').html('<span class="sui-caret sui-unselectable" unselectable="on"/>').attr(De,"on").on(T+l._eventNS,l._onDDHandler).appendTo(n),n.addClass(o?"sui-combobox":"sui-dropdown"),s.cls&&n.addClass(s.cls),t=e.attr(D),(o?i:n).attr(D,x(t)?t:"0"),x(s.width)&&n.css("width",s.width),x(s.height)&&(n.css(Te,s.height),i.css(Te,s.height),r.css(Te,s.height)),n.on(N+l._eventNS,k(l._keydown,l)).on("keyup"+l._eventNS,k(l._keyup,l)),l._focusHandler=k(l._focus,l),(o?i:n).on(B+l._eventNS,l._focusHandler),n.on(I+l._eventNS,k(l._blur,l)),l.listElement=v("<span/>").appendTo(v(p)),c&&(a=x(c.filter)?c.filter:u&&u.filter?u.filter:l._utype==R?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),l.listBox=new Ie(e,{cls:"sui-autocomplete",dataSource:u,readDataSource:!1,valueTemplate:s.valueTemplate,textTemplate:s.textTemplate,multiple:!1,selected:x(d)&&z(d)?d[0]:d,values:h,width:s.dropDownWidth||n.innerWidth(),maxHeight:s.dropDownHeight,renderToINTERNAL:l.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:Q.ie&&Q.version<=8?0:-1,filterINTERNAL:a,events:{select:function(e){l._onLBSelChanged(),l.trigger(L,{index:e.index,item:e.item,text:e.text,value:e.value})},itemclick:function(e){(o?i:n).focus(),l._hideDD(),l.trigger(fe,{index:e.index,item:e.item,text:e.text,value:e.value})},blur:function(e){setTimeout(k(l._blur,l),20)}}}),l.listBox.element.hide(),l.dataSource=l.listBox.dataSource,l.listBox.dataSource.on(E+l._eventNS,k(l._dsChange,l)),s.textTemplate=l.listBox.options.textTemplate,s.valueTemplate=l.listBox.options.valueTemplate,n.attr(y,"combobox"),o&&(i.attr(le,"list"),i.attr(pe,l.listBox.element.attr(S)),i.attr(ce,l.listBox.element.attr(y))),l.listBox.dataSource.read(),v(m).on(Ce+l._eventNS,k(l._position,l)),_&&G(_)&&n.attr(ve,_),l.enabled(s.enabled),l._open=!1,s.enabled&&s.open&&l._showDD(!0),l._destroyed=!1},refresh:function(e){this.refreshWithElement(this._original,e)},focus:function(){this.options.editable?(v(this.textElement).focus(),O(v(this.textElement))):v(this.element).focus()},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,t._oldValue=t.value(),t.trigger(B))},_blur:function(e){var t=this;setTimeout(function(){t._destroyed||null==t.listBox||v(t.listBox.element).is(":focus")||v(t.element).is(":focus")||v(t.textElement).is(":focus")||(t._hideDD(),t._oldValue!==t.value()&&t.trigger(E),t.trigger(I),t._hasFocus=!1)},100)},_keydown:function(e){switch(e.keyCode){case o.TAB:break;case o.UP:case o.DOWN:this._keydownUpDown(e),e.preventDefault();break;case o.ESC:case o.ENTER:e.preventDefault(),this.cancelSearch=!0,this._hideDD();break;default:this._keydownDefault(e)}},_keyup:function(e){e=e.keyCode;this.options.editable&&this._utype==P&&e!=o.UP&&e!=o.DOWN&&e!=o.ENTER&&e!=o.TAB&&v(this._original).attr(M,v(this.textElement).val())},_keydownUpDown:function(e){this._enabled&&v(this.listBox.element).trigger(e)},_keydownDefault:function(e){this.listBox.clearSelection(),this._searchTimeout(e)},_searchTimeout:function(e){var t=this,n=t.options.autoComplete;n&&n.enabled&&(clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==v(t.textElement).val()&&t._search()},n.delay))},_search:function(){var e=this;e.listBox.dataSource;e.term=v(e.textElement).val(),e.term.length<e.options.autoComplete.minLength?e._hideDD():(e.cancelSearch=!1,e.pending++,v(e.textElement).addClass("sui-autocomplete-loading"),u(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this,t=e._original,n=e._utype,i=e.textElement.val();if(!e._dsLoaded)return e._dsLoaded=!0,!e.options.editable&&e.listBox.selected().length<=0&&e.listBox.selected(0),void e._onLBSelChanged();e.pending--,e.pending||v(e.textElement).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showDD(!0):e._hideDD(),n==R?t.val(i):n==P&&t.attr(M,i),e.trigger(L,{index:-1,item:i})},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_onLBSelChanged:function(){var e,t=this,n=t.options,i=n.editable,a=t.listBox,l=a.selectedItems();l&&0<l.length?(d.call(t,n.valueTemplate,l[0]),e=d.call(t,n.textTemplate,l[0]),n=x(n.inputTemplate)?d.call(t,n.inputTemplate,l[0]):e,i?(t.textElement.val(n),t.textElement.attr(se,a.element.attr(se))):t.textElement.html(n)):i?(t.textElement.val(""),t.textElement.removeAttr(se)):t.textElement.html("&nbsp;")},_onDD:function(e){var t=this,n=t.textElement;t.options.editable?(n.focus(),O(n)):t.element.focus(),t._open?t._hideDD():t._hasData()&&t._showDD(!1)},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showDD:function(e){var t=this,n=t.listBox,i=v(n.element),a=t.options.animation;t._enabled&&(i.css({top:0,left:0}),i.show(),t._position(),!e&&a&&a.enabled?i.hide().slideDown(a.openDelay,k(n.ensureActiveViewableINTERNAL,n)):n.ensureActiveViewableINTERNAL(),t._open=!0,v(t.element).attr(_e,_))},_hideDD:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1,v(this.element).attr(_e,C)},enabled:function(){var e=this,t=e.options.editable,n=v(e.element),i=e.textElement,a=e.ddElement,l=e._original,s=[].slice.call(arguments);if(!(0<s.length))return e._enabled;(s=!!s[0])?(n.removeAttr(r).removeClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.removeAttr(r),a.removeAttr(r),l.removeAttr(r)):(e._open&&e._hideDD(),n.attr(r,r).addClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.attr(r,r),a.attr(r,r),l.attr(r,r)),e._enabled=s},selected:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.selected())&&0<e.length?e[0]:-1;e=n[0],t.clearSelection(),x(e)&&(-1<(e=j(e))?t.selected(e):this.options.editable||t.selected(0)),this._onLBSelChanged()},selectedItem:function(){var e=this.listBox.selectedItems();return e&&0<e.length?e[0]:null},value:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.values())&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null;t.clearSelection(),t.values(n[0]),this._onLBSelChanged()},text:function(){var e=this.listBox.texts();return e&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null},destroy:function(){var e=this,t=v(e.element),n=v(e.textElement),i=v(e.ddElement);e._destroyed||(e._destroyed=!0,e._dsLoaded=!1,n.off(e._eventNS),i.off(e._eventNS),e._onDDHandler=null,v(m).off(Ce+e._eventNS),t.off(e._eventNS),e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(E+e._eventNS),e.listBox.destroy(),e.listBox=null),v(e.listElement).remove(),n.remove(),i.remove(),e._original.unwrap().show(),e._original=null,b.fn.destroy.call(e))}})).defaults=e,l.ui.plugin("ComboBox",n),t=te({},e,{editable:!1,autoComplete:p}),(e=n.extend({init:function(e,t){t&&(t.editable=!1,t.autoComplete=p),n.prototype.init.call(this,e,t)}})).defaults=t,l.ui.plugin("DropDown",e),t={enabled:!0,cls:p,toggle:!1,checked:!1,events:{}},(s=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=v(e.element),n=e.options,i=n.cls;e._eventNS=".shieldButton"+e.getInstanceId(),t.addClass("sui-button"),i&&t.addClass(i),t.on(T+e._eventNS,k(e._click,e)),t.attr(y,"button"),e.enabled(n.enabled),n.toggle&&(e._checked=!!n.checked,e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(a+"-pressed",e._checked?_:C))},_click:function(e){var t=this,n=v(t.element);t._enabled&&(t.options.toggle&&(t._checked=!t._checked,t._checked?n.addClass("sui-button-checked"):n.removeClass("sui-button-checked"),n.attr(a+"-pressed",t._checked?_:C)),t.trigger(T,e))},checked:function(){var e=this,t=v(e.element),n=[].slice.call(arguments);if(!(0<n.length))return e._checked;e.options.toggle&&(e._checked=!!n[0],e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(a+"-pressed",e._checked?_:C))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(r).removeClass("sui-button-disabled").removeAttr(ue):e.attr(r,r).addClass("sui-button-disabled").attr(ue,_),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(T+this._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled"+(e?" "+e:"")),b.fn.destroy.call(this)}})).defaults=t,l.ui.plugin("Button",s),e=te({},t,{menu:p,dataSource:p,events:{}}),(t=s.extend({init:function(){var n,i,e,t,a;s.fn.init.apply(this,arguments),l.ui.ContextMenu&&(i=v((n=this).element),t=(e=n.options).menu,a=e.cls,n._handle=v('<button type="button"><span class="sui-caret-down"/></button>'),i.after(n._handle),n._handleButton=new s(n._handle,{cls:"sui-button-split-handle"+(a?" "+a:""),events:{click:function(e){var t;n.menu.visible()?n.menu.visible(!1):(t=v(i).offset(),n.menu.visible(!0,{x:t.left,y:t.top+v(i).outerHeight()}))}}}),x(t)?n._menuElement=v(t):(n._menuElement=v("<ul/>"),n._customMenuElement=!0,n._handle.after(n._menuElement)),n._menuElement.attr(S)||n._menuElement.attr(S,h()),n.menu=new l.ui.ContextMenu(n._menuElement,{cls:"sui-button-split-menu",dataSource:e.dataSource,minWidth:i.outerWidth()+n._handle.outerWidth()-2,events:{click:k(n.trigger,n,"menuClick")}}),v(n._handle).attr(ce,_).attr(pe,n._menuElement.attr(S)))},enabled:function(){var e=this;if(!(arguments&&0<arguments.length))return s.fn.enabled.apply(e,arguments);s.fn.enabled.apply(e,arguments),e._handleButton&&e._handleButton.enabled.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},visible:function(){var e=this;if(!(arguments&&0<arguments.length))return s.fn.visible.apply(e,arguments);s.fn.visible.apply(e,arguments),e._handleButton&&e._handleButton.visible.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},destroy:function(){var e=this;e.menu&&(e.menu.destroy(),e.menu=p),e._menuElement&&(e._customMenuElement&&(v(e._menuElement).remove(),e._customMenuElement=p),e._menuElement=p),e._handleButton&&(e._handleButton.destroy(),e._handleButton=p),e._handle&&(v(e._handle).remove(),e._handle=p),s.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("SplitButton",t),e={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},(t=b.extend({init:function(){var e,t,n=this,i=(b.fn.init.apply(this,arguments),n._eventNS=".shieldCheckBox"+n.getInstanceId(),e=n.options,v(n.element).addClass("sui-checkbox-input")),a=i.attr(S),l=(a||i.attr(S,a=h()),i.attr(D)),l=n.wrapper=i.wrap('<span class="sui-checkbox"/>').parent().attr(D,x(l)?l:0),s=v('<span class="sui-checkbox-element sui-checkbox-unchecked"/>');s.appendTo(l),n.checkBoxElement=s,v('<span class="sui-checkmark"/>').appendTo(s),e.label?((t=v('<label class="sui-checkbox-label"/>')).appendTo(l),t.attr("for",a),t.get(0).innerHTML=e.label,e.enableLabelClick&&t.addClass("sui-checkbox-label-hover")):(t=(t=i.parent().parent())&&!t.is("label")?v('label[for="'+a+'"]'):t)&&e.enableLabelClick&&t.addClass("sui-checkbox-label-hover"),l.attr(y,"checkbox"),t&&((s=t.attr(S))||t.attr(S,s=h()),l.attr(he,s)),i.attr(A)&&(e.checked=!0),n.enabled(e.enabled),n.checked(e.checked),l.on(T+n._eventNS,k(n._click,n)).on(N+n._eventNS,k(n._keydown,n)),t&&e.enableLabelClick&&t.on(T+n._eventNS,k(n._click,n)).on(N+n._eventNS,k(n._keydown,n)),l.onselectstart=function(){return!1},l.onmousedown=function(){return!1}},_click:function(e){var t=this;v(t.element);t._enabled&&(t._checked?t.options.enableThreeStates?t._checked=null:t._checked=!1:!1===t._checked?t._checked=!0:null===t._checked&&(t._checked=!1),t.checked(t._checked),t.trigger(T,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==o.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=this,t=[].slice.call(arguments),n=v(e.element),i=e.wrapper,a=i.find(".sui-checkmark");if(!(0<t.length))return e._checked;e._checked=t=t[0],t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),i.attr(c,_),n.attr(A,A),n.data("1"),Q.ie&&Q.version<=8&&a.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):!1===t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),i.attr(c,C),n.removeAttr(A),n.data("0"),a.css("filter","")):null===t&&e.options.enableThreeStates&&(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),i.attr(c,"mixed"),n.removeAttr(A),n.data("2"),a.css("filter",""))},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(r).removeClass("sui-checkbox-disabled"),n.removeAttr(r)):(e.wrapper.attr(r,r).addClass("sui-checkbox-disabled"),n.attr(r,r)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-checkbox-input").removeAttr(D),e.checkBoxElement&&e.checkBoxElement.off(e._eventNS),e.wrapper&&(e.wrapper.find(".sui-checkbox-label").off(e._eventNS).end().removeAttr(r).removeClass("sui-checkbox-disabled").replaceWith(e.element),e.wrapper=null),b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("CheckBox",t),e={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},(t=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n,i=this,a=v(i.element),l=i.options,s=(i._eventNS=".shieldRadioButton"+i.getInstanceId(),a.addClass("sui-radiobutton-input"),(n=a.attr(S))||a.attr(S,n=h()),s=a.attr(D),(t=i.wrapper=a.wrap('<span class="sui-radiobutton"/>').parent()).attr(D,x(s)?s:0),v('<span class="sui-radiobutton-element"/>'));s.appendTo(t),i.radioButtonElement=s,v('<span class="sui-checkmark"/>').appendTo(s),l.label?((e=v('<label class="sui-radiobutton-label"/>')).appendTo(t),e.attr("for",n),e.get(0).innerHTML=l.label,l.enableLabelClick&&e.addClass("sui-radiobutton-label-hover")):(e=(e=a.parent().parent())&&!e.is("label")?v('label[for="'+n+'"]'):e)&&l.enableLabelClick&&e.addClass("sui-radiobutton-label-hover"),t.attr(y,"radio"),e&&((s=e.attr(S))||e.attr(S,s=h()),t.attr(he,s)),a.attr(A)&&(l.checked=!0),i.enabled(l.enabled),l.checked?i.checked(l.checked):i._checked=!1,t.on(T+i._eventNS,k(i._click,i)).on(N+i._eventNS,k(i._keydown,i)),e&&l.enableLabelClick&&e.on(T+i._eventNS,k(i._click,i)).on(N+i._eventNS,k(i._keydown,i)),t.onselectstart=function(){return!1},t.onmousedown=function(){return!1}},_click:function(e){this._enabled&&(this.checked(!0),this.trigger(T,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==o.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._checked;this._uncheckAllFromSameGroup(),this._checkInternal(e[0])},_checkInternal:function(e){var t=v(this.element),n=this.wrapper;(this._checked=e)?(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),n.attr(c,_),t.attr(A,A)):(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),n.attr(c,C),t.removeAttr(A))},_uncheckAllFromSameGroup:function(){var e=v(this.element);v('input[type="radio"][name="'+e.attr("name")+'"]').not(e).each(function(){var e=v(this).swidget();e&&(e._checkInternal(!1),e.trigger(E))})},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(r).removeClass("sui-radiobutton-disabled"),n.removeAttr(r)):(e.wrapper.attr(r,r).addClass("sui-radiobutton-disabled"),n.attr(r,r)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-radiobutton-input").removeAttr(D),e.radioButtonElement&&(e.radioButtonElement.off(e._eventNS),e.radioButtonElement=null),e.wrapper&&(e.label&&(e.label.off(e._eventNS),e.label=null),e.wrapper.removeAttr(r).removeClass("sui-radiobutton-disabled"),e.wrapper.replaceWith(e.element),e.wrapper=null),b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("RadioButton",t),e={cls:p,enabled:!0,checked:p,onText:p,offText:p,events:{}},(t=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t=this,n=t.options,i=n.dieOnError,a=n.cls,l=n.checked;t._original=e=v(t.element),f(e)!==P||"checkbox"!==e.attr("type")?g("shieldSwitch: Underlying element must ne an input of type checkbox.",i):(t._eventNS=".shieldSwitch"+t.getInstanceId(),t.element=i=e.wrap('<div class="sui-switch sui-unselectable'+(a?" "+a:"")+'" />').parent(),a=v('<div class="sui-switch-inner sui-unselectable" />').appendTo(i),t._text=v('<span class="sui-switch-text sui-unselectable" />').appendTo(a),t._handle=a=v('<div class="sui-switch-handle sui-unselectable" />').appendTo(i),a.height(i.height()),e.hide(),a=e.attr(D),i.attr(D,x(a)?a:"0"),i.on(T+t._eventNS,k(t._click,t)).on(N+t._eventNS,k(t._keydown,t)),l=x(l)?!!l:!!e.attr(A),i.attr(y,"switch"),t.checked(l,!1),t.enabled(n.enabled))},refresh:function(e){this.refreshWithElement(this._original,e)},_keydown:function(e){e.keyCode===o.SPACE&&(this._click(e),e.preventDefault())},_click:function(e){this._enabled&&(this.checked(!this._checked),this.trigger(T,e),e.preventDefault(),e.stopPropagation())},checked:function(){var e,t=this,n=t.options,i=n.onText,a=n.offText,l=v(t.element),n=v(t._handle),s=v(t._text),o=t._original,r=[].slice.call(arguments),u=100;if(!(0<r.length))return t._checked;e=!!r[0],x(r[1])&&!r[1]&&(u=0),e?(o.attr(A,A),n.animate({left:l.width()-n.width()-2},u,function(){l.addClass("sui-switch-checked").attr(c,_),x(i)&&(s.html(i),l.attr(de,W(i)))})):(o.removeAttr(A),n.animate({left:-2},u,function(){l.removeClass("sui-switch-checked").attr(c,C),x(a)&&(s.html(a),l.attr(de,W(a)))})),t._checked=e},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(r).removeClass("sui-switch-disabled"),t.removeAttr(r)):(e.attr(r,r).addClass("sui-switch-disabled"),t.attr(r,r)),this._enabled=n},destroy:function(){var e=this;v(e.element).off(e._eventNS),v(e._inner).remove(),v(e._handle).remove(),e._original.unwrap().show(),e._original=e._inner=e._handle=null,b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("Switch",t)}(jQuery,shield,this);