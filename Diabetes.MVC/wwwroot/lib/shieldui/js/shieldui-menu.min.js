/* Shield UI 1.7.44 Trial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula | Expires on Tue, 13 Sep 2022 03:00:24 GMT */
!function(_,v,o){var e,u,c,m=v.ui.Widget,f=(v.Class,v.DataSource),d=v.ui.Position,a=v.Constants.KeyCode,M=v.strid,g=document,b=_.proxy,O=_.each,x=_.grep,l=_.extend,H=v.error,U=v.format,h=v.is.defined,s=v.is.boolean,B=v.is.integer,z=v.is.func,C="role",I="true",p="false",E="aria-expanded",i="aria-activedescendant",S="horizontal",y="vertical",T="focus",w="blur",N="change",k="tabindex",G="disabled",j="sui-menu-item-level",D="sui-menu-item-expanded",A="sui-menu-item-disabled",r="sui-menu-item-selected",q="sui-menu-item-index",F="sui-menu-item-hover",P="sui-menu-item-data-item",L="sui-menu-item-parent",R="sui-menu-item-cc",t={cls:o,width:o,height:o,dataSource:o,readDataSource:!0,orientation:S,delay:100,animation:{enabled:!0,openDelay:100,closeDelay:50},contentTemplate:"{content}",overflow:"flipfit",events:{}},W=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,a,n,i=this,s=_(i.element),r=i.options,l=r.dieOnError,o=r.dataSource,u=r.cls,c=r.renderToINTERNAL,d=r.wrapOriginalINTERNAL,d=!h(d)||d;if(i._original=e=_(i.element),i._tagname=t=e.prop("tagName").toLowerCase(),i._isContext=r.isContextINTERNAL,n=i._eventNS=".shieldMenu"+i.getInstanceId(),d?(i.wrapper=e.wrap("<div/>").parent(),i._isWrapped=!0):i._isWrapped=!1,e.hide(),i.element=s=_('<ul class="sui-menu sui-menu-top sui-menu-'+r.orientation+(u?" "+u:"")+'"/>').on(T+n,b(i._focus,i)).on(w+n,b(i._blur,i)).on("keydown"+n,b(i._keydown,i)),0<_(c).length?_(c).append(s):e.after(s),h(r.width)&&s.css("width",r.width),h(r.minWidth)&&s.css("minWidth",r.minWidth),h(r.height)&&s.css("height",r.height),d=e.attr(k),s.attr(k,h(d)?d:"0"),i._isRtl=v.support.isRtl(s),o)i.dataSource=f.create(o);else{if("ul"!==t)return i.destroy(),void H("shieldMenu: No dataSource or underlying UL element found.",l);a=function(e){var i=[];return _(e).children("li").each(function(){var e=_(this),t=0<e.children("ul").length,n={cls:e.attr("data-class"),content:(t?e.children().not("ul").first():e).html(),href:e.attr("data-href")?e.attr("data-href"):e.children().not("ul").first().attr("href"),disabled:e.attr("data-disabled")?e.attr("data-disabled"):h(e.attr(G))&&null!==e.attr(G),separator:"separator"===e.attr("data-role"),iconUrl:e.attr("data-icon-url"),iconCls:e.attr("data-icon-cls")};t&&(n.items=a(e.children("ul")[0])),i.push(n)}),i},i.dataSource=f.create({data:e,schema:{parse:a}})}i.dataSource.on(N+n,b(i._dsChange,i)),s.attr(C,i._isContext?"menu":"menubar").attr("aria-orientation",r.orientation),r.readDataSource&&i.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_isFocused:function(){return _(this.element).hasClass("sui-menu-focus")},_focus:function(e){var t=this;t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(_(t.element).addClass("sui-menu-focus"),_(t.element).focus(),t.trigger(T))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){_(t.element).removeClass("sui-menu-focus"),t._collapseAll(),t._deselectAll(),t.trigger(w)},100))},_dsChange:function(){this._renderItems(this.dataSource.view,this.element,0,null)},_getItemIcon:function(e){var t=_('<span class="sui-menu-item-icon"/>');return e.iconUrl?t.append('<img src="'+e.iconUrl+'"/>'):e.iconCls&&t.addClass(e.iconCls),t},_renderItems:function(e,t,n,i){for(var a,s,r,l,o,u,c,d=this,m=d.options,f=(e||[]).length,h=0<x(e||[],function(e){return e.iconUrl||e.iconCls}).length,p=0;p<f;p++)u=!!(a=e[p]).disabled,r=a.href,o=!(c=a.separator)&&a.items&&0<a.items.length,l=a.iconUrl||a.iconCls,s=c?"&nbsp;":U.call(d,m.contentTemplate,a),r=_('<a class="sui-menu-item-link" '+(r?'href="'+r+'"':"")+' tabindex="-1"/>').append('<span class="sui-menu-item-text'+(o?" sui-menu-item-text-hc":"")+'">'+s+"</span>"),s=_('<li class="sui-menu-item sui-unselectable'+(u?" sui-menu-item-disabled":"")+(c?" sui-menu-item-separator":"")+(a.cls?" "+a.cls:"")+'"/>').on("selectstart",function(){return!1}).appendTo(t).data(P,a).data(L,i).data(j,n).data(A,u).data(q,p).attr(C,c?"separator":"menuitem").attr("id",M()).append(r),c?s.attr("aria-orientation",0<n||m.orientation===y?S:y):u&&s.attr("aria-disabled",I),r.click(b(d._itemClicked,d,s)).on(T,b(d.focus,d)),!c&&h&&(0<n||l||m.orientation===y)&&r.prepend(d._getItemIcon(a)),o&&(r.append('<span class="sui-menu-item-children-caret"/>'),(u=_('<div class="sui-menu-submenu"/>').hide().data("sui-menu-item-cc-parent",s).appendTo(s)).css("z-index",v.ui.Util.GetMaxZIndex(".sui-menu, .sui-menu-submenu",g.body)+1),c=_('<ul class="sui-menu sui-menu-vertical"/>').attr(C,"menu").appendTo(u),d._renderItems(a.items,c,n+1,s),s.data(R,u).attr("aria-haspopup","true").hover(b(d._itemMouseEnter,d,s,!0),b(d._itemMouseLeave,d,s,!0)))},_itemMouseEnter:function(e,t){var n=this;e.addClass(F),setTimeout(function(){e.hasClass(F)&&n._itemExpand(e,t)},n.options.delay)},_itemMouseLeave:function(e,t){e.removeClass(F),this._itemCollapse(e,!0,t)},_itemExpand:function(e,t,n){var i=this,a=i.options,s=a.animation,r=e.data(j),l=e.data(R),r=0===r&&a.orientation===S,o=e.data(P),u=e.data(L);i._isExpandable(e)&&i._canHaveFocus(e)&&l&&(l.stop(!0,!0),u&&!i._isExpanded(u)&&i._itemExpand(u,!1,!0,!0),t&&i.trigger("expand",{element:e,item:o}),r&&l.css("min-width",e.outerWidth()),l.show(),d.Set(l,e,{source:"left top",target:r?"left bottom":"right top",overflow:a.overflow}),!n&&s&&s.enabled?l.hide().slideDown(s.openDelay,function(){e.data(D,!0).attr(E,I)}):e.data(D,!0).attr(E,I))},_itemCollapse:function(e,t,n,i){var a=this,s=a.options.animation,r=e.data(R),l=e.data(P),o=e.data(L);r&&(r.stop(!0,!0),n&&a.trigger("collapse",{element:e,item:l}),t=!h(t)||!!t,_(r).find("ul").first().children().each(function(){var e=_(this);a._isExpanded(e)&&a._itemCollapse(e,t,!1,!0)}),!i&&s&&s.enabled?r.slideUp(s.closeDelay,function(){e.data(D,!1).attr(E,p),t&&o&&!o.hasClass(F)&&a._itemCollapse(o,!0,!1,!0)}):(r.hide(),e.data(D,!1).attr(E,p),t&&o&&!o.hasClass(F)&&a._itemCollapse(o,!0,!1,!0)))},_collapseAll:function(){var t=this;_(t.element).children("li").each(function(){var e=_(this);t._isExpanded(e)&&t._itemCollapse(e,!1,!1,!0)})},_isExpandable:function(e){return!!e.data(R)},_isExpanded:function(e){return!0===e.data(D)},_hasExpanded:function(e){var t=this,n=e.data(R);return!0===e.data(D)&&0<x(_(n).find("ul").first().children(),function(e){return t._isExpanded(_(e))||t._hasExpanded(_(e))}).length},_canHaveFocus:function(e){return!e.data(A)&&!e.data(P).separator},_keydown:function(e){var t,n=this,i=!0;switch(e.keyCode){case a.UP:n._move("up",e);break;case a.DOWN:n._move("down",e);break;case a.LEFT:n._move("left",e);break;case a.RIGHT:n._move("right",e);break;case a.SPACE:case a.ENTER:t=n._getSelected(),h(t)&&(n._isExpanded(t)||n._itemExpand(t,!0),n._itemClicked(t));break;default:i=!1}i&&e.preventDefault()},_getFirstSelectableItem:function(e){var t,n=this;return _(e).children("li").each(function(){var e=_(this);if(n._canHaveFocus(e))return t=e,!1}),t},_getNextSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),r=s.length;if(a<r-1)for(n=a+1;n<r;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;if(0<a)for(n=0;n<a;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_getPrevSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),i=s.length;if(0<a)for(n=a-1;0<=n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;if(a<i-1)for(n=i-1;a<n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_move:function(e,t){var n,i,a,s,r=this,l=r._getSelected();r._isRtl;if(h(l))if(n=l.parent().hasClass("sui-menu-vertical")?y:S,a=(i=l.data(L))?i.parent().hasClass("sui-menu-vertical")?y:S:o,n==S){if("up"===e)return void r._itemCollapse(l,!1,!0);if("down"===e){if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else if("left"===e){if((s=r._getPrevSelectableItem(l))===l)return}else{if("right"!==e)return;if((s=r._getNextSelectableItem(l))===l)return}}else if("up"===e){if(0===l.index()){if(i&&a===S)s=i,r._itemCollapse(s,!1,!0);else if((s=r._getPrevSelectableItem(l))===l)return}else if((s=r._getPrevSelectableItem(l))===l)return}else if("down"===e){if((s=r._getNextSelectableItem(l))===l)return}else if("left"===e){if(!i||a!==y)return;s=i,r._itemCollapse(s,!1,!0)}else{if("right"!==e)return;if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else s=r._getFirstSelectableItem(r.element);h(s)&&(r._setSelected(s,!0),r.trigger("select",{element:s,item:s.data(P)}))},_deselectAll:function(){var e=this.element;_(e).find("."+r).each(function(){_(this).removeClass(r)}),e.removeAttr(i)},_setSelected:function(e,t){var n=this.element;this._canHaveFocus(e)&&(t?(this._deselectAll(),_(e).addClass(r),n.attr(i,e.attr("id"))):(_(e).removeClass(r),n.removeAttr(i)))},_getSelected:function(){var e=_(this.element).find("."+r).first();return 0<_(e).length?e:o},_isSelected:function(e){return _(e).hasClass(r)},_itemClicked:function(e,t){var n=e.data(P);t&&t.isPropagationStopped()||(this._focus(),this._canHaveFocus(e)&&(e={item:n},this._isContext&&(e.element=c),n=this.trigger("click",e),t&&(t.stopPropagation(),n.isDefaultPrevented()&&t.preventDefault())))},_getItemByIndex:function(){var e,t,n=[].slice.call(arguments),i=o;if(0<n.length)for(t=0;t<n.length;t++){if(e=n[t],!B(e))return o;if(i=(0===t?_(this.element):_(_(i).data(R)).children("ul").first()).children("li:eq("+e+")"),_(i).length<=0)return o}return i},_getItemIndex:function(e){for(var t=[];t.unshift(e.data(q)),e=e.data(L););return t},enabled:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,e=this._getItemByIndex.apply(this,e);if(h(e)){if(!h(t))return!e.data(A);e.data(A,!t),_(e)[t?"removeClass":"addClass"]("sui-menu-item-disabled")}},expanded:function(){var e=this,t=[].slice.call(arguments),n=s(t[0])?t.shift():o,i=e._getItemByIndex.apply(this,t);if(h(i)){if(!h(n))return e._isExpanded(i);n?(e._collapseAll(),e._itemExpand(i,!1)):e._itemCollapse(i,!1,!1)}h(n)&&!1===n&&0===t.length&&e._collapseAll()},selected:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,n=this._getItemByIndex.apply(this,e);if(h(n)){if(!h(t))return this._isSelected(n);this._setSelected(n,t)}h(t)&&!1===t&&0===e.length&&this._deselectAll()},selectedIndex:function(){var e=this._getSelected();if(h(e))return this._getItemIndex(e)},selectedData:function(){var e=this._getSelected();if(h(e))return _(e).data(P)},selectedItem:function(){return this._getSelected()},destroy:function(){var e=this,t=e._eventNS;e.dataSource&&e.dataSource.off(N+t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),_(e.element).off(t).remove(),e._isWrapped&&e._original.unwrap(),e._original.show(),e._original=null,m.fn.destroy.call(e)}});W.defaults=t,v.ui.plugin("Menu",W),t=l({},t,{orientation:y,target:o,filter:o,focusOnOpen:!0,minWidth:o}),(e=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,i=this,t=_(i.element),n=i.options,a=n.events,s={},r=i._eventNS=".shieldContextMenu"+i.getInstanceId();i.menuElement=e=_('<div class="sui-context-menu"/>').hide().appendTo(g.body),n.minWidth&&i.menuElement.css("min-width",n.minWidth),O(["focus","blur","expand","collapse","click","select"],function(e,t){var n=a[t];z(n)&&(s[t]=b(n,i))}),i._menu=new W(t,l({},n,{renderToINTERNAL:e,wrapOriginalINTERNAL:!1,isContextINTERNAL:!0,events:s})),i._mouseTracker=new v.MouseTracker,_(n.target).on("contextmenu"+r,n.filter,function(e){return e.preventDefault(),i._open(i._mouseTracker.getPosition(e),_(e.currentTarget),!0,!1),!1}),_(g).on("mousedown"+r,function(e){_(e.target).closest(".sui-context-menu").length<=0&&i._closeOpen(!0)})},_open:function(e,t,n,i){var a=this,s=a.menuElement,r=a.options,l=r.animation,o=r.focusOnOpen;a._closeOpen(!1),n&&a.trigger("open",{element:t}).isDefaultPrevented()||(s.stop(!0,!0),s.show(),d.Set(s,new v.Event({pageX:e.x,pageY:e.y}),{source:"left top",target:"left top",overflow:r.overflow}),l&&l.enabled?s.hide().slideDown(l.openDelay,function(){c=t,(u=a)._visible=!0,o&&a.focus()}):(c=t,(u=a)._visible=!0,o&&a.focus()))},_close:function(e){var t=this,n=t.menuElement,i=t.options.animation;e&&t.trigger("close").isDefaultPrevented()||(u=c=null,n.stop(!0,!0),i&&i.enabled?n.slideUp(i.closeDelay,function(){t._visible=!1}):(n.hide(),t._visible=!1))},_closeOpen:function(e){u&&u.closeINTERNAL(!0)},closeINTERNAL:function(e){this._close(e)},focus:function(){_(this.menuElement).find(".sui-menu").first().focus()},visible:function(){var e,t,n=this,i=[].slice.call(arguments);if(!(0<i.length))return n._visible;e=!!i[0],t=i[1]||n._mouseTracker.getPosition(),e?n._open(t,i[2],!1,!1):n._close(!1),n._visible=e},enabled:function(){return this._menu.enabled.apply(this._menu,arguments)},expanded:function(){return this._menu.expanded.apply(this._menu,arguments)},selected:function(){return this._menu.selected.apply(this._menu,arguments)},selectedIndex:function(){return this._menu.selectedIndex.apply(this._menu,arguments)},selectedData:function(){return this._menu.selectedData.apply(this._menu,arguments)},selectedItem:function(){return this._menu.selectedItem.apply(this._menu,arguments)},destroy:function(){var e=this,t=e._eventNS;_(g).off(t),_(e.options.target).off(t),e._mouseTracker&&(e._mouseTracker.destroy(),e._mouseTracker=null),e._close(),e._menu&&(e._menu.destroy(),e._menu=null),_(e.menuElement).remove(),m.fn.destroy.call(e)}})).defaults=t,v.ui.plugin("ContextMenu",e)}(jQuery,shield);