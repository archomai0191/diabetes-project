/* Shield UI 1.7.44 Trial Version | Copyright 2013-2022 Shield UI Ltd. | http://www.shieldui.com/eula | Expires on Tue, 13 Sep 2022 03:00:24 GMT */
!function(w,k,T){var h=k.ui.Widget,u=(k.Class,k.DataSource),o=k.RecursiveDataSource,n=(k.ui.Position,k.Constants.KeyCode),H=k.strid,P=document,D=w.proxy,I=w.each,b=(w.extend,k.error),S=k.format,E=k.is.defined,y=k.is.boolean,L=(k.is.integer,k.is.func),m=k.is.array,g=k.is.object,B=k.is.string,a=k.support.browser,N="role",A="aria-expanded",G="click",K="focus",Q="blur",p="change",q="tabindex",z="disabled",J="false",d="down",M="left",r="checked",_="li",f="ul",O="visibility",X="hidden",Y="visible",R="sui-treeview-list-item",Z="sui-treeview-list-item-idx",F="sui-treeview-list-item-parent",U="sui-treeview-list-item-ds",v="sui-treeview-list-items-ds",V="sui-treeview-list-item-checked",C="sui-treeview-list-item-loaded",c="sui-treeview-item-list-expanded",x="sui-treeview-item-toggle-loading",s="sui-treeview-item-selected",l="sui-treeview-item-active",W="sui-treeview-item-disabled",j="sui-treeview-item",e={cls:T,width:T,minWidth:T,height:T,dataSource:T,readDataSource:!0,animation:{enabled:!0,expandDuration:200,collapseDuration:150},checkboxes:{enabled:!1,children:!1,template:T},dragDrop:!1,dragDropScope:T,textTemplate:"{text}",hrefTemplate:"{href}",expandedTemplate:"{expanded}",checkedTemplate:"{checked}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",hasChildrenTemplate:function(e){return e&&(e.items&&0<e.items.length||e.children&&0<e.children.length||e.hasChildren)},events:{}},t=h.extend({init:function(){h.fn.init.apply(this,arguments);var e,i,t,r,n,a=this,s=w(a.element),l=a.options,d=l.dieOnError,c=l.dataSource,o=l.cls;if(a._original=e=w(a.element),a._tagname=t=e.prop("tagName").toLowerCase(),n=a._eventNS=".shieldTreeView"+a.getInstanceId(),a._wrapper=i=e.wrap("<div/>").parent(),i.addClass("sui-treeview"+(o?" "+o:"")),e.hide(),a.element=s=w('<ul class="sui-treeview-list"/>').on(K+n,D(a._focus,a)).on(Q+n,D(a._blur,a)).on("keydown"+n,D(a._keydown,a)),e.after(s),I(["width","minWidth","height","maxHeight"],function(e,t){E(l[t])&&i.css(t,l[t])}),o=e.attr(q),s.attr(q,E(o)?o:"0"),c)a.dataSource=u.create(c);else{if(t!=f)return a.destroy(),void b("shieldTreeView: No dataSource or underlying UL element found.",d);r=function(e){var a=[];return w(e).children(_).each(function(){var e,t=w(this),i=0<t.children(f).length,n={cls:t.attr("data-class"),href:t.attr("data-href")?t.attr("data-href"):t.children().not(f).first().attr("href"),disabled:t.attr("data-disabled")?t.attr("data-disabled"):E(t.attr(z))&&null!==t.attr(z),expanded:t.attr("data-expanded"),checked:t.attr("data-checked"),iconUrl:t.attr("data-icon-url"),iconCls:t.attr("data-icon-cls")};i?((e=t.clone()).children(f).remove(),n.text=e.html()):n.text=t.html(),i&&(n.items=r(t.children(f)[0])),a.push(n)}),a},a.dataSource=u.create({data:e,schema:{parse:r}})}a.dataSource.on(p+n,D(a._dsChange,a)),s.attr(N,"tree"),l.readDataSource&&a.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_dsChange:function(){var e=this,t=e.element,i=e.dataSource;e._renderItems(i,t,null,!0,!0,function(){e.trigger("dataBound",{dataSource:i,element:null})})},_destroyItems:function(e){var t=this,i=(w(e).children("ul.sui-treeview-item-list").each(function(){t._destroyItems(w(this))}),w(e).children(".sui-treeview-item-content").find(".sui-treeview-item-text").each(function(){w(this).swidget("Draggable")&&w(this).swidget("Draggable").destroy(),w(this).swidget("Droppable")&&w(this).swidget("Droppable").destroy()}),w(e).children(".sui-treeview-item-content").find(".sui-checkbox").each(function(){w(this).swidget("CheckBox")&&w(this).swidget("CheckBox").destroy()}),w(e).data(v));i&&i.off(t._eventNS),w(e).removeData(),w(e).empty()},_renderItems:function(e,t,i,n,a,r){var s,l,d,c=this,o=c.options.checkboxes,h=e.view,u=(h||[]).length,m=[],g=[];for(c._destroyItems(t),d=0;d<u;d++)(l=(s=c._renderItem(h[d],i,e,d)).listItem).appendTo(t),s.itemExpanded&&m.push(l),s.itemChecked&&g.push(l);if(L(r)&&r(),n)for(d=0;d<m.length;d++)c._expand(m[d],!1,a);if(o.enabled&&o.children)for(d=0;d<g.length;d++)c._updateChecked(g[d])},_renderItem:function(e,t,i,n){var a,r,s,l,d,c,o,h=this,u=h.options,m=u.checkboxes,g=m.template,p=h.getInstanceId(),_=u.dragDropScope,f=t?t.data(R):null,v=e.cls,C=h._hasChildren(e),x=S.call(h,u.textTemplate,e),I=H(),b=S(u.disabledTemplate,e);return b=!!(y(b)&&b||"true"===b||"1"===b||1===b),a=S(u.expandedTemplate,e),a=!!(y(a)&&a||"true"===a||"1"===a||1===a),r=S(u.checkedTemplate,e),r=!!(y(r)&&r||"true"===r||"1"===r||1===r),s=S(u.hrefTemplate,e),B(s)&&"undefined"!==s||(s=T),l=S(u.iconUrlTemplate,e),B(l)&&"undefined"!==l||(l=T),d=S(u.iconClsTemplate,e),B(d)&&"undefined"!==d||(d=T),v=w('<li class="'+j+" sui-unselectable"+(b?" "+W:"")+(E(v)?" "+v:"")+'"/>').data(R,e).data(Z,n).data(F,t).data(U,i),n=w('<span class="sui-treeview-item-text" id="'+I+'">'+(s?'<a href="'+s+'">':"")+x+(s?"</a>":"")+"</span>").on("mousedown",D(h._itemClick,h,v)).on("dblclick",D(h._itemDblClick,h,v)),t=w('<span class="sui-treeview-item-toggle"/>').on(G,D(h._toggleItem,h,v)).append(w('<span class="sui-treeview-item-toggle-collapsed"/>')),C||t.css(O,X),v.attr(N,"treeitem").attr("aria-describedby",I),C&&v.attr(A,J),m.enabled&&(v.data(V,!!r),c=w('<span class="sui-treeview-item-check"/>'),B(g)?c.html(S(g,{item:e,parent:f})):L(g)?g(c,e,f):(i=w('<input type="checkbox"'+(r?' checked="checked"':"")+"/>").appendTo(c),k.ui.CheckBox?w(i).shieldCheckBox({enabled:!b,enableThreeStates:!!m.children,events:{click:D(h._checkboxClick,h,v)}}):i.on(G,D(h._checkboxClick,h,v)))),(l||d)&&(o=w('<span class="sui-treeview-item-icon"/>'),l?o.append('<img src="'+l+'"/>'):o.addClass(d)),v.append(w('<div class="sui-treeview-item-content"/>').append(t,c,n.prepend(o))),v.append(w('<ul class="sui-treeview-list sui-treeview-item-list"/>').attr(N,"group").hide()),u.dragDrop&&!b&&(n.shieldDraggable({scope:E(_)?_:"suiTv"+p,dragCls:"sui-treeview-item-text-dragging",helper:function(){return w(this.element).clone().appendTo(P.body)},events:{start:D(h._dragStart,h,v),stop:D(h._dragStop,h,v)}}),n.shieldDroppable({scope:E(_)?_:"suiTv"+p,hoverCls:"sui-treeview-item-text-dropover",tolerance:{x:"touch",y:"intersect"},events:{over:D(h._dropOver,h,v),out:D(h._dropOut,h,v),drop:D(h._drop,h,v)}})),{listItem:v,itemExpanded:a,itemChecked:r,itemDisabled:b}},_isValidDragDrop:function(e,t){var i;return!!w(e).hasClass("sui-treeview-item-text")&&((i=w(e).parent().parent().parent().parent().children(".sui-treeview-item-content").first().children(".sui-treeview-item-text").first())&&0<i.length&&t[0]===i[0]?t[0]!==i[0]:!(0<w(e).parent().parent().find(t[0]).length))},_dragStart:function(e,t){this.trigger("dragStart",{draggable:t.target.element,element:e,domEvent:t})},_dragStop:function(e,t){this.trigger("dragStop",{draggable:t.target.element,element:e,domEvent:t}),t.preventDefault()},_dropOver:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+j)),e.targetNode=w(n).closest("."+j),!(a=this.trigger("droppableOver",e)).isDefaultPrevented()&&a.valid||t.preventDefault()},_dropOut:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+j)),e.targetNode=w(n).closest("."+j),this.trigger("droppableOut",e)},_drop:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,cancelled:!0,skipAnimation:!!a,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+j)),e.targetNode=w(n).closest("."+j),a=this.trigger("drop",e),t.cancelled=a.cancelled,t.skipAnimation=a.skipAnimation,a.isDefaultPrevented()&&t.preventDefault()},_hasChildren:function(e){e=S(this.options.hasChildrenTemplate,e);return y(e)&&e||"true"===e||"1"===e||1===e},_isLoaded:function(e){return!0===w(e).data(C)},_isExpanded:function(e){return e.hasClass(c)},_isFullyExpanded:function(e){var t=this.getParent(e);return t?this._isExpanded(e)&&this._isFullyExpanded(t):this._isExpanded(e)},_isDisabled:function(e){return w(e).hasClass(W)},_isSelected:function(e){return w(e).hasClass(s)},_isActive:function(e){return w(e).hasClass(l)},_isFocused:function(){return w(this.element).hasClass("sui-treeview-focus")},_focus:function(e){var t=this,i=t.element;a.ie&&P.activeElement!==w(i)[0]&&w(i).focus(),t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(w(t.element).addClass("sui-treeview-focus"),t.trigger(K))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){w(t.element).removeClass("sui-treeview-focus"),t.trigger(Q)},100))},_selectItem:function(e,t,i){var n=this;n._isSelected(e)||i&&n.trigger("select",{element:e,item:e.data(R)}).isDefaultPrevented()||(n._selectedItem&&n._selectedItem.removeClass(s),(n._selectedItem=e).addClass(s),t&&n._activateItem(e,i))},_activateItem:function(e,t){var i=this;i._isActive(e)||(i._activeItem&&i._activeItem.removeClass(l),(i._activeItem=e).addClass(l),t&&i.trigger(p,{element:e,item:e.data(R)}))},_itemClick:function(e,t){a.ie&&setTimeout(D(this._focus,this)),this._selectItem(e,!0,!0)},_itemDblClick:function(e,t){this._selectItem(e,!0,!0),this._toggleItem(e,t)},_getCheckBox:function(e){return e.children(".sui-treeview-item-content").children(".sui-treeview-item-check").find('input[type="checkbox"]').first()},_checkboxClick:function(e){a.ie&&setTimeout(D(this._focus,this)),this._toggleCheck(e,!0)},_toggleCheck:function(e,t){this._setChecked(e,!e.data(V),t)},_setChecked:function(e,t,i){var n=this.options.checkboxes.children,a=this._getCheckBox(e);a&&0<a.length&&(w(a).swidget("CheckBox")?(a=w(a).swidget("CheckBox")).checked(t):t?a.attr(r,r):a.removeAttr(r),e.data(V,t),n&&this._updateChecked(e),i&&this.trigger("check",{element:e,item:e.data(R),checked:t}))},_updateChecked:function(e){var t=e.data(V);this._updateCheckedChildren(e,t),this._updateCheckedParents(e,t)},_updateCheckedChildren:function(e,i){var n=this;w(e).children("ul.sui-treeview-item-list").first().children(_).each(function(){var e=w(this),t=n._getCheckBox(e);w(t).swidget("CheckBox")?w(t).swidget("CheckBox").checked(i):i?t.attr(r,r):t.removeAttr(r),e.data(V,i),n._updateCheckedChildren(e,i)})},_updateCheckedParents:function(e,t){var i=this.getParent(e),n=i?i.data(V):T,a=t;i&&!1!==n&&(w(e).parent().children(_).each(function(){if(w(this).data(V)!==t)return!(a=null)}),n=this._getCheckBox(i),w(n).swidget("CheckBox")?w(n).swidget("CheckBox").checked(a):a?n.attr(r,r):n.removeAttr(r),i.data(V,a),this._updateCheckedParents(i,t))},_toggleItem:function(e,t){var i=this;a.ie&&setTimeout(D(i._focus,i)),i._isDisabled(e)||(i._isExpanded(e)?i._collapse(e,!0):i._expand(e,!0,!1))},_getToggleEl:function(e){return w(e).children(".sui-treeview-item-content").first().children(".sui-treeview-item-toggle").first()},_expand:function(e,t,i,n){var a,r=this,s=r.options.animation,l=e.children("ul.sui-treeview-item-list").first();!l||w(l).length<=0||!r.hasChildren(e)&&l.children(_).length<=0||(r._isExpanded(e)?L(n)&&n.call(r):t&&r.trigger("expand",{element:e,item:e.data(R)}).isDefaultPrevented()||(l.stop(!0,!0),l.hide(),a=r._getToggleEl(e),t=function(){l.slideDown(s.enabled&&!i?s.expandDuration:0,function(){e.addClass(c).attr(A,"true"),a.css(O,Y),w(a).find("span").addClass("sui-treeview-item-toggle-expanded").removeClass("sui-treeview-item-toggle-collapsed"),L(n)&&n.call(r)})},r._isLoaded(e)?t():r._loadItem(e,i,t)))},_loadItem:function(t,i,n){var a,r=this,e=t.data(R),s=t.children("ul.sui-treeview-item-list").first(),l=t.data(U),d=r._getToggleEl(t),c=e.items||e.children;!s||w(s).length<=0||(m(c)||g(c)||c instanceof u?(w(d).addClass(x),a=u.create(c),s.data(v,a),a.on(p+r._eventNS,function(e){w(d).removeClass(x),t.data(C,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),L(n)&&n.call(r)})}),a.read({parent:e})):l&&l instanceof o?(w(d).addClass(x),a=new o(l.options),s.data(v,a),a.on(p+r._eventNS,function(e){w(d).removeClass(x),t.data(C,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),L(n)&&n.call(r)})}),a.read({parent:e})):(t.data(C,!0),L(n)&&n.call(r)))},_expandPathSegment:function(e,t,i,n,a){var r,s=this;e.length<n?L(a)&&a.call(s):(r=[].slice.call(e).splice(0,n),r=s.getByPath(r),s._isExpanded(r)?s._expandPathSegment(e,t,i,n+1,a):s._expand(r,t,i,function(){s._expandPathSegment(e,t,i,n+1,a)}))},_expandPath:function(e,t,i,n){this._expandPathSegment(e,t,i,1,n)},_collapse:function(e,t){var i,n=this.options.animation,a=e.children("ul.sui-treeview-item-list").first();!this._isExpanded(e)||!a||w(a).length<=0||t&&this.trigger("collapse",{element:e,item:e.data(R)}).isDefaultPrevented()||(i=this._getToggleEl(e),a.stop(!0,!0),a.slideUp(n.enabled?n.collapseDuration:0,function(){e.removeClass(c).attr(A,J),w(i).find("span").removeClass("sui-treeview-item-toggle-expanded").addClass("sui-treeview-item-toggle-collapsed")}))},_keydown:function(e){var t=this,i=!0;switch(e.keyCode){case n.UP:t._move("up",e);break;case n.DOWN:t._move(d,e);break;case n.LEFT:t._move(M,e);break;case n.RIGHT:t._move("right",e);break;case n.SPACE:t._selectedItem&&t._toggleCheck(t._selectedItem,!0);break;case n.ENTER:t._selectedItem&&t._activateItem(t._selectedItem,!0);break;default:i=!1}i&&e.preventDefault()},_getExpandedItems:function(e){var t=this;return t.element.children("."+j).add(t.element.find("li.sui-treeview-item-list-expanded > ul.sui-treeview-list > li."+j)).filter(function(){var e=t.getParent(w(this));return!e||t._isFullyExpanded(e)}).not("."+W)},_getNextItem:function(e){var t=this._getExpandedItems(),i=w(t).length,e=w(t).index(e);if(e<i-1)return w(w(t).get(e+1))},_getPrevItem:function(e){var t=this._getExpandedItems(),e=w(t).index(e);if(0<e)return w(w(t).get(e-1))},_getPrevParentItem:function(e){e=this.getParent(e);if(e&&0<w(e).length)return this._isDisabled(e)?this._getPrevParentItem(e):e},_move:function(e,t){var i,n=this,a=n._selectedItem;n.getParent(w(a));if(E(a))if("up"===e)i=n._getPrevItem(a);else if(e===d)i=n._getNextItem(a);else if(e===M){if(n._isExpanded(a))return void n._collapse(a,!0,!1);i=n._getPrevParentItem(a)}else{if(!n._isExpanded(a))return void n._expand(a,!0,!1);0<(e=w(a).children("ul.sui-treeview-list").first()).length&&(i=w(e).children("li:not(."+W+")").first())}else i=w(n.element).find(_).first();E(i)&&0<w(i).length&&n._selectItem(i,!1,!0)},_getByPath:function(e,t){var i=e.shift(),n=w(t.children(_)[i]);return 0<e.length?this._getByPath(e,n.children(f)):w(t.children(_)[i])},_getListItem:function(e){return m(e)?w(this.getByPath(e,this.element)):w(e)},getByPath:function(e){return this._getByPath([].slice.call(e),w(this.element))},isLoaded:function(e){return!0===w(this._getListItem(e)).data(C)},hasChildren:function(e){return this._hasChildren(this.getItem(e))},getItem:function(e){return w(this._getListItem(e)).data(R)},getDataSource:function(e){return w(this._getListItem(e)).data(U)},getChildrenDataSource:function(e){e=this._getListItem(e);return this.hasChildren(this.getItem(e))&&this.isLoaded(e)?w(e).children("ul.sui-treeview-item-list").first().data(v):T},getParent:function(e){return w(this._getListItem(e)).data(F)},getDataSourceIndex:function(e){return w(this._getListItem(e)).data(Z)},_getIndex:function(e){e=this._getListItem(e);return w(e).index()},getPath:function(e){for(var t=w(e),i=[];i.unshift(this._getIndex(t)),(t=this.getParent(t))&&0<t.length;);return i},updateIndetermined:function(e){var t=this,e=t._getListItem(e);E(e)?t._updateChecked(w(e)):w(t.element).children(_).each(function(){t._updateChecked(w(this))})},expanded:function(){var e=this,t=[].slice.call(arguments),i=y(t[0])?t.shift():T,n=t[0],a=e._getListItem(n);if(!E(i))return e._isExpanded(a);i?m(n)?e._expandPath([].slice.call(n),!1,!1,t[1]):e._expand(a,!1,!1,t[1]):e._collapse(a,!1)},selected:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._selectedItem;(e=this._getListItem(e[0]))&&0<e.length&&this._selectItem(e,!0,!1)},unselect:function(){this._selectedItem&&this._selectedItem.removeClass(s+" "+l),this._selectedItem=null},enabled:function(){var e=[].slice.call(arguments),t=y(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return E(t)?void(t?e.removeClass(W):e.addClass(W)):!this._isDisabled(e)},checked:function(){var e=[].slice.call(arguments),t=y(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return E(t)?void this._setChecked(e,t,!1):e.data(V)},_insertedItem:function(e,t){return e instanceof w?w(e):m(e)?this._getListItem(e):g(e)?this._renderItem(e,t).listItem:void 0},_beforeRemoveChild:function(e){e&&e.children(f).children(_).length<=1&&(w(this._getToggleEl(e)).css(O,X),e.removeClass(c))},_refreshParent:function(e){var t=w(e).parents(_).first();w(e).data(F,t&&0<t.length?t:null)},load:function(e,t){e=this._getListItem(e);e&&0<e.length&&this._loadItem(e,!1,t)},append:function(){var e,t,i,n=this,a=[].slice.call(arguments),r=a[0],s=m(r)||r instanceof w,l=a[1],d=a[2];if(E(l)){if(!((t=n._getListItem(l))&&0<w(t).length))return;i=w(t).children(f).first()}else t=null,i=n.element;(e=n._insertedItem(r,t))&&(s&&n._beforeRemoveChild(n.getParent(e)),!t||n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),L(d)&&d.call(n,e)):n.hasChildren(t)?n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),L(d)&&d.call(n,e)):n._expand(t,!1,!1,function(){e.appendTo(i),n._refreshParent(e),L(d)&&d.call(n,e)}):n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),L(d)&&d.call(n,e)):(w(n._getToggleEl(t)).css(O,Y),t.removeClass(c),e.appendTo(i),n._refreshParent(e),n._expand(t,!1,!1,function(){L(d)&&d.call(n,e)})))},insertBefore:function(){var e=this,t=[].slice.call(arguments),i=t[0],n=m(i)||i instanceof w,t=e._getListItem(t[1]);if(t&&0<t.length&&(i=e._insertedItem(i,e.getParent(t))))return n&&e._beforeRemoveChild(e.getParent(i)),i.insertBefore(t),e._refreshParent(i),i},insertAfter:function(){var e=this,t=[].slice.call(arguments),i=t[0],n=m(i)||i instanceof w,t=e._getListItem(t[1]);if(t&&0<t.length&&(i=e._insertedItem(i,e.getParent(t))))return n&&e._beforeRemoveChild(e.getParent(i)),i.insertAfter(t),e._refreshParent(i),i},remove:function(e){var t=this,i=m(e)||e instanceof w,e=t._getListItem(e);t.getParent(e);return!!(e&&0<e.length)&&(t._destroyItems(w(e).children(f).first()),i&&t._beforeRemoveChild(t.getParent(e)),e.remove(),!0)},destroy:function(){var e=this,t=e.element,i=e._eventNS;e.dataSource&&e.dataSource.off(p+i),e._destroyItems(t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),w(t).off(i).remove(),e._original.unwrap(),e._original.show(),e._original=e._wrapper=e._selectedItem=e._activeItem=null,h.fn.destroy.call(e)}});t.defaults=e,k.ui.plugin("TreeView",t)}(jQuery,shield);